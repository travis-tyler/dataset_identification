[{"section_title": "Abstract", "text": "Technological progress with regard to various sensors and mobile devices is constant. In the field of movement data analysis in particular, this has led to new opportunities thanks to data sources such as Global Positioning Systems (GPS). In recent years, many research groups have developed new approaches for analysing this data. Most of these approaches are computationally intensive and unable to deliver results in a reasonable time when run on a mobile device. This paper presents a light-weight approach, called the \"cookie-cutter\", which follows an alternative path by using an Eulerian model to determine stays of individuals within reasonable computation time. The quality measures used in this work show that the approach is promising with regard to both accuracy and computing requirements."}, {"section_title": "Introduction", "text": "Movement and movement behaviour of individuals has been of research interest for many years. Thanks to the technological progress in the last 40 years, the possibilities for recording and analysing movement behaviour have significantly improved. In the 1970s and 80s, for example, one had to use pencil-and-paper questionnaires, interviews, or manual counting in order to obtain data on the movements and movement behaviour of individuals (e.g. KONTIV, 1976 KONTIV, , 1982 KONTIV, , 1989 ; North American Breeding Bird Survey (Sauer et al., 2013) ).\nWith the triumphant advance of mobile devices at the beginning of the 21st century, different sensor systems -especially GPS -came into the spotlight of research (Sch\u00f6nfelder et al., 2002; Schuessler & Axhausen, 2009; Stopher et al., 2007) . With former approaches, only specific points in time could be considered for analysis. Nowadays, time periods also can be recorded using GPS. The granularity and amount of data recorded with GPS offers new opportunities, so that it has become a lively research field in different disciplines, such as health or zoology (Handcock et al., 2009; Le Faucheur et al., 2008; Ungar et al., 2005; Wettstein et al., 2012) . One of these opportunities is the possibility of continuously analysing the movements of one or more individuals, and of being able to predict future movements.\nStochastic Lagrangian approaches are widely used in research (Smouse et al., 2010) . Some of these approaches are promising, but in practice they are computationally intensive. For example, as the amount of tracking data increases, mobile device memory and mobile connections reach their limits. Thus, complementary approaches have to be considered.\nInspired by the work of Kang et al. (2004) and Ashbrook & Starner (2003) , who extracted places from trajectories with the aim of being able to predict future movement, this study also considers the analysis of trajectories from a place-based point of view. In contrast to the aforementioned approaches, however, we have chosen an Eulerian approach, which allows both real-time and subsequent analysis. Our objective for this paper is to determine whether our Eulerian approach, called a \"cookie-cutter\" approach, is suitable for detecting stays and significant places from GPS trajectories.\nThe remainder of this paper is structured as follows. In Section 0, related work is reviewed. The ground truth data, the cookie-cutter approach and quality evaluation are described in Section 0. In Section 0, the results are presented, before Section 5 concludes the study and gives an outlook."}, {"section_title": "Related Work", "text": "Stochastic modelling is widely used in the literature for modelling movements of individuals (Merki & Laube, 2012; Patterson et al., 2008; Pentland & Liu, 1999; Preisler et al., 2004; Smouse et al., 2010) . Smouse et al. (2010) , for instance, further differentiated between individual-based (Lagrangian approach) and place-based (Eulerian approach) analysis. While the Lagrangian approach uses the direct signature of an object's movement, for example trajectories recorded by a GPS receiver, the Eulerian approach focuses on specific locations fixed in space and observes objects passing by, i.e. it describes movement in relation to an underlying grid (Merki & Laube, 2012; Turchin, 1998, p. 36) . According to Smouse et al. (2010) , the Lagrangian approach is intended to analyse an individual's trajectories in detail, while the Eulerian approach is more suitable for extracting specific locations for an individual's so-called \"stays\" or places which they are just passing by.\nThis work attempts to transform data which is available in the Lagrangian model into the Eulerian model. It uses a raster where each cell acts as a target area. For this approach, entry and exit events are essential, similar to the discrete event simulation or \"cookie-cutterdetection\" model described by Buss & Sanchez (2005) . They use sensors with a fixed target range to detect movements. When the object enters the sensor range, an entry event is generated. The last detection of the object within the range creates an exit event. Using a raster grid effectively means that each cell acts as a target range of a movement sensor. Applying raster models to represent movement data has been investigated by van Bemmelen et al. (1993) and Birch et al. (2007) . The former presents movement principles for raster and vector data models in order to find the best route. Rectangular raster models allow movement in the 4, 8, 16 or 32 directions, along cell edges, or using a quadtree. In contrast, hexagonal raster models can model movements more naturally as the distances to all six neighbouring cells are equal, while a rectangular grid yields different distances to the neighbouring cells (Birch et al., 2007 "}, {"section_title": "Methods", "text": "This section describes the Ground Truth Data (GTD) and provides definitions related to the cookie-cutter approach. It also presents both the methodology applied to analyse the movement data, and the quality evaluation approaches used."}, {"section_title": "Ground Truth Data", "text": "Our test setting involved four test persons (P1, P2, P3 and P4) who carried the GPS trackers BT-Q1000XT and CR-Q1100P from Qstarz for five to six weeks, producing complete GPS traces of all their movements for the time period. The trajectories were compared with and evaluated against the GTD. Each test person produced detailed protocols, including all start and end locations. These locations were identified in OpenStreetMap, and its centroids acted as tagged places in the quality evaluation described in section 3.4.\nWhile long-term tracking is usually done using animals (Merki & Laube, 2012; Sommer et al., 2015) , this test attempted to do the same with humans, which created special circumstances. In contrast to animal tracking, in this test the usual sampling rate of three seconds is considerably higher, which requires higher hardware specifications and adapted methods for analysing. Another difference concerns GPS availability. Animals usually spend most of their time in nature, where the quality of the GPS signal is good. Humans spend most of their time in buildings, where the GPS signal might be weak or lost. For instance, GPS trajectories are not usually recorded during the night. After re-activating the GPS sensor before moving again, it takes some time before the sensor is ready for recording again."}, {"section_title": "Definitions", "text": "The following terms are used in this study. A visit refers to the time spent within a raster cell or cell group. A stay refers to a visit which exceeds the minimum duration for qualification as a stay (defined as an input parameter). A detected place covers the cell or cell group where the test person spends a stay. Tagged places are extracted from the manual GTD protocols. These protocols were prepared by the participants in the test at the same time as they were recording their tracks and are used to assess the detected places. A significant place is a detected/tagged place visited by a participant more than five times per month (which equals more than once per week).\nThe two major input parameters are the distance (raster cell diameter and minimum distance between detected places) and minimum stay duration (the minimum duration of a stay in one raster cell or cell group required to define the time spent at this place as a stay and to define the cell as a detected place). Section 0 includes an explanation of how suitable values for the distance parameter were determined. For the minimum stay duration, a value of 15 minutes was used. This was derived from Ashbrook & Starner (2003) , who used 10 minutes. However, a greater value was deemed suitable here due to the raster model."}, {"section_title": "The Cookie-Cutter Approach", "text": "The trajectories are segmented based on a hexagonal raster, which is why the approach is called the \"cookie-cutter\" approach. The movement analysis relies on the entry and exit points of raster cells and the duration of a stay within a cell. The main advantages are the data abstraction and a significant reduction in data volume at an early stage.\nThe five steps of the cookie-cutter approach are detailed below.\nStep 1: The recorded GPS trajectories (in our case in GPS eXchange Format -GPX) are read and pre-processed in two sub-steps as they are filtered and smoothed. Filtering includes the removal of duplicate track points (in respect to the time stamp and coordinates), the removal of track points before and after tunnels (or other tracking interruptions), and the removal of outliers. Afterwards, smoothing is performed using a triangular kernel function for determining weighting factors in order to produce more natural tracks and reduce spikes.\nStep 2: The trajectories are laid over a raster of hexagonal cells. The distance parameter is used as the cell diameter (between opposite sides). Due to its low distortion, the creation of the cells is based on the Universal Transverse Mercator coordinate system. The raster cells are assembled dynamically as required, instead of using a pre-processed raster, thus avoiding the existence of numerous unused cells. Analyses can be carried out without the need of a raster for the whole area, the extent of which is unknown at the start. The location of the first track point determines the starting cell. Every track point located within the current raster cell belongs to the same visit within the cell. When a track point falls outside the cell, a cell change is identified. Again, each track point which is located within this cell belongs to the same visit there. After each cell change, the movement in the previous cell is summarized. The track is divided where it intersects the cell perimeter, i.e. at the entry and exit points for the cell, in order to determine the real track within the cell. The duration (in seconds) and the length (in metres) of the stay in the raster cell are calculated and saved as an attribute of the stay. Lower tracking sampling rates produce some degree of inaccuracy, as the actual cell entry and exit times are unknown (cf. Buss & Sanchez (2005) ). Figure 1 illustrates a section of a track. Step 3: In some situations raster cells identified consecutively are not contiguous. This occurs if the distance between two track points exceeds the cell diameter, for example, when the participant goes through a tunnel, or if their speed is very high. If the corresponding raster cells of two consecutive track points do not touch each other, interpolation points are added between the two track points. These interpolation points help to identify the raster cells which eliminate gaps in the cell-based track. A linear interpolation between the surrounding track points is used because the raster representation would eliminate most curves anyway. However, it can be noted that alternative interpolation methods (see Long, 2011 ) could be applied. The example illustrated in Figure 2 includes such interpolation points (the black points) in order to close the gaps in the resultant raster cell-based track. In this example, the interpolation points result from a tunnel (to the west in the map) and from avoiding gaps when the GPX track points skip adjacent raster cells (north-east). If the distance between two track points exceeds 1 kilometre, no interpolation between them is derived.\nStep 4 Step 5: Finally, a raster cell-based track is generated. This new track features just one track point per raster cell, located in the centroid of the cell. For further analysis, either the distance attribute (which represents the real distance derived from the GPX track) or the standard distance between hexagon cells (which matches the diameter of the cell) can be used as distance calculation model. Table 1 shows an extract of the protocol file which is written during the processing of the GPX tracks. Each stay is recorded in the file, along with the entry and exit times, the distance covered (in metres) and the duration of the visit (in seconds). The detected and significant places can be extracted from the cell-based track. Any cell or cell group where the person has stayed longer than the minimum stay duration is considered a detected place. Detected places are merged if the distance between their centroids is less than the distance parameter. This situation can only occur if cell groups are involved. Detected places where the person has stayed more than five times are called significant places. Usually, these places include the person's home, workplace and leisure-related locations."}, {"section_title": "Quality Evaluation", "text": "The performance of the Cookie Cutter approach is assessed using quality parameters in combination with a confusion matrix which reveals the matches between detected and tagged places. For the assessment, the detected and tagged places along with the entry and exit times are extracted from the cell-based track and the GTD. Before the quality parameters are calculated, matches between detected and tagged places are derived by analysing the coordinates of their centroids as well as the entry and exit times. In order to recognize a match, a detected and a tagged place must be close to each other (the distance between them must not exceed the value from the distance parameter), and the time spans between the entry and exit times must overlap. If more than one tagged place is located near a detected place, the nearest tagged place is considered for the match.\nSpatial Accuracy (QSA) describes the average distance between the centroids of the detected places and the centroids of the associated tagged places. Detected places without associated tagged places are not considered. A value of 1.0 indicates that the locations of tagged and detected places are identical. A value of 0.0 indicates that all detected places have the maximum offset (distance parameter) from the tagged place.\nSpatial Uniqueness (QSU) is the proportion of detected places which are associated with more than one tagged place. A value of 1.0 indicates that no detected place is associated with more than one tagged place. A value of 0.0 indicates that all detected places are associated with more than one tagged place.\nTemporal Accuracy (QTA) refers to the average deviation of entry and exit times between detected and tagged stays. A value of 1.0 indicates that all time values are equal. A value of 0.0 indicates that all times differ by the maximum value, which is the value of the parameter stay duration (i.e. 15 minutes).\nThe degree of Temporal Correctness (QTC) reveals the proportion of detections which do not have corresponding time entries in the tagged places. A value of 1.0 indicates that all detections have corresponding time entries, while a value of 0.0 means that no detections have corresponding time entries.\nThe confusion matrix reveals the number of matches between detected and tagged places. True positives are the tagged places which have been detected by the cookie-cutter approach. False negatives are the tagged places which have not been detected. False positives are detected places without a corresponding tagged place. The true negative value cannot be calculated because it refers to all locations without either tagged or detected places. The recall, proportion and f-measure values are derived from the confusion matrix. The recall value reveals the proportion of detected places which have been associated with tagged places; precision is the proportion of all tagged places which have been detected by a detected place; the f-measure gives an overall assessment of the place identification."}, {"section_title": "Results", "text": "The cookie-cutter approach was implemented as a Java application. The tracking data of the four participants in the test was pre-processed and analysed (see section 3.2). The results were investigated following the quality parameters described in section 3.4 and various performance attributes. The runtime was measured without pre-processing in order to assess the cookie-cutter approach only. All quality parameters were determined for each participant, P1, P2, P3 and P4. In order to determine the most suitable distance value to be used as the hexagon cell diameter and as the distance parameter value in the quality evaluation, several distance values were compared to each other ( Table 2 ). The aim was to find the lowest distance value where QSA is more than 0.75 (standardized metres, see Section 0) and the average offset (between detected and tagged places) is less than 53 metres. This was derived by doubling the figure for the GPS error (William J. Hughes Technical Center, 2014) and adding the average diameter of the tagged places: 2 \u00d7 9 + 35 = 53. In order to identify a suitable distance value, the results from Table 2 were analysed. All suggested distance values are around or above the minimum value of 53m. The distance value of 50m produces results which are significantly worse in comparison to the other distance values. For example, the spatial accuracy is only 0.45m, while all other values produce results over 0.69m. The number of true positives and the f-measure are also worse. The distance value 75m is slightly lower for QSA. 75m, 100m and 150m all have a good number of true positives and a good f-measure. The average distance between the detected places and the associated tagged places rises from 34m to 46m between these three values. The offset between detected and tagged places is considered too high for the greater distance values (200m and 500m), while the other attributes provide good results, apart from the QSU of 500m, which indicates that several detected places are associated with more than one tagged place within this distance. In summary, the distance values of 75m, 100m and 150m provide the best results. For the remainder of this study, the value of 100m is used as the distance parameter to define the raster cell diameter and distance threshold between detected and tagged places. Table 3 presents detailed results for all four test participants. The proportion of correctly identified places (true positives) is 80 % for P1 and P4, while the other two are at 66 % and 67 %. Comparing the numbers of tagged and detected places reveals that the results for P3 yield the best match. The numbers of significant places are detected well. A closer look reveals that the significant places include all homes and workplaces. P1 has the best fmeasure value, which indicates a good matching performance. QSA is between 0.77 and 0.53. QSU has a value of 0.97 or higher for all four test participants, which means that almost all detected places are related to one tagged place only. QTA yields values between 0.71 and 0.82, which indicates many matches between entry and exit times. Q TC indicates that between 65 % and 76 % of all detected places have corresponding time entries in the tagged places. The results map in Figure 3 shows detected and tagged places as well as the hexagonal raster. Raster cells are generated and drawn only where GPX tracks have occurred. In this example, all but two detected places have corresponding tagged places. "}, {"section_title": "Conclusion and Outlook", "text": "This study examined an Eulerian approach (the \"cookie-cutter\" approach) for extracting stays from GPS movement data. GPS trajectories were rasterized, which significantly reduced the data volume and created new trajectories consisting of just one track point per raster cell. Advantages of this approach include data reduction, fast processing time (e.g. 21 seconds for GPX data covering 39 days for P1) and the transparent and obvious methodology. The raster-based track was used to identify stays at detected places, corresponding to the time a participant in the test spent within a raster cell or cell group. In order to measure the quality of the approach, the results were compared against a manually prepared GTD protocol created by the four participants when tracking their movements. The results presented in Table 3 indicate that the cookie-cutter approach provides valuable insights into a person's movements. Up to 80 % of all tagged places can be detected. However, it has to be pointed out that the approach produces a higher level of inaccuracy in comparison to the GTD because it is based on raster cells and not the more accurate point data. The reduction in quality can be mitigated by choosing an appropriate value for the distance parameter. In order to produce good results, high-quality GPS tracks are required. This remains a challenge, however, as GPS sensors do not always work well because of bad reception, and they do not function while they are still initializing. Finally, and most significantly, humans spend a considerable amount of time in buildings where no GPS signal is available.\nTo improve the quality of the results, a combination of the cookie-cutter approach with other movement analysis methodologies (e.g. Kang et al., 2004) could be investigated. Taking the stays created with the cookie-cutter approach as a starting point, predictions of individuals' movements based on pattern recognition can be made. One field of application might be in mobility assistance services for people with cognitive impairment. In this context, it is important that algorithms for analysing movement data are not computationally intensive so that they can run on mobile devices in real time. The cookie-cutter approach meets these requirements due to its light-weight design, which allows it to be used on everyday devices such as mobile phones and smart bands."}]