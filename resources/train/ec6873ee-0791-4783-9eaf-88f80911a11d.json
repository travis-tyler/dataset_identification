[{"section_title": "Abstract", "text": "The stereotype logistic (SL) model is an alternative to the proportional odds (PO) model for ordinal response variables when the proportional odds assumption is violated. This model seems to be underutilized. One major reason is the constraint of current statistical software packages. Statistical Package for the Social Sciences (SPSS) cannot perform the SL regression analysis, and SAS does not have the procedure developed to directly estimate the model. The purpose of this article was to illustrate the stereotype logistic (SL) regression model, and apply it to estimate mathematics proficiency level of high school students using Stata. In addition, it compared the results of fitting the PO model and the SL model. Data from the High School Longitudinal Study of 2009 (HSLS: 2009 (Ingels, et al., 2011) were used for the ordinal regression analyses."}, {"section_title": "Introduction", "text": "Three types of logistic regression models are well-known for analyzing the ordinal response variable, including the proportional odds (PO) model, the continuation ratio (CR) model, and the adjacent categories (AC) logistic regression model. Among them, the PO model is the most commonly used (Agresti, 2002 (Agresti, , 2007 (Agresti, , 2010 Armstrong & Sloan, 1989; Clogg, & Shihadeh, 1994; Hilbe, 2009; Liu, 2009; Long, 1997 , Long & Freese, 2006 McCullagh, 1980; McCullagh & Nelder, 1989; O'Connell, 2000 O'Connell, , 2006 Powers & Xie, 2000) ."}, {"section_title": "529", "text": "The PO model assumes that the underlying binary models, which dichotomize the ordinal response variable, have the same coefficients. In other words, the logit coefficients for each predictor are the same across the ordinal categories. This is called the parallel lines or the proportional odds (PO) assumption. However, the PO assumption is often violated. To deal with this issue, the partial proportional odds (PPO) model or the generalized ordinal logit model (Fu, 1998; Liu & Koirala, 2012; Peterson & Harrell, 1990; Williams, 2006) can be used. An alternative option is the stereotype logistic (SL) model, which was first developed by Anderson (1984) , and later introduced by Greenland (1994) , and Long and Freese (2006) . The SL model is an extension of both the multinomial logistic regression model and the PO model. First, the SL model is like the multinomial logistic model since they both estimate the odds of being at a particular category compared to the baseline category. Second, similar to the PO model, the SL model estimates the ordinal response variable rather than the nominal outcome variable, given a set of predictors. However, the SL model does not assume the PO assumption, and allows the effect of each predictor to vary across the ordinal categories.\nAlthough the theory of the SL model has existed, this model seemed to be underutilized: the illustration and application of this model were rare. One major reason is the restriction of current statistical software packages. SPSS cannot perform the SL regression analysis, and SAS does not have the procedure developed to directly estimate the SL model. Both Anderson (1984) and Greenland (1994) used GAUSS to fit the SL model but no programming information was provided. Agresti (2010) recently discussed this model using the results of the two examples directly from Anderson (1984) . Kuss (2006) pioneered the use the PROC NLMIXED procedure in SAS to estimate the SL model although it does not deal with any random effects in the example. Researchers need to specify the starting values, and the model equations, and the probabilities in the syntax, which is complicated and error-prone for novice SAS users. Therefore, it is critical to help researchers to familiarize with this model and clarify the confusion so that they are able to apply it correctly in practice.\nTo fill this gap, the purpose of this study was to illustrate the use of the stereotype logistic (SL) regression with Stata, and compare the results of fitting the PO model and the SL model. This article is an extension of previous research on various ordinal logistic regression models (Liu, 2009; Liu, O'Connell & Koirala, 2011; Liu & Koirala, 2012; O'Connell & Liu, 2010) . For demonstration purposes, the empirical data from the High School Longitudinal Study of 2009 (HSLS: 2009) (Ingels, et al., 2011) were used to conduct the ordinal regression analyses."}, {"section_title": "530", "text": ""}, {"section_title": "Theoretical Framework The Proportional Odds Model", "text": "An ordinal logistic regression model is a generalization of a binary logistic regression model, when the outcome variable has more than two ordinal levels. It estimates the cumulative odds and the probability of an observation being at or below a specific outcome level, conditional on a collection of explanatory variables. In Stata, the ordinal logistic regression model assumes that the outcome variable is a latent variable, which is expressed in logit form as follows\nwhere\n, which is the probability of being at or below category j, given a set of predictors j = 1, 2, \u2026, J \u22121. \u03b1j are the cut points, and \u03b21, \u03b22, \u2026, \u03b2p are logit coefficients. This is also known as the proportional odds (PO) model because the odds ratio of any predictor is assumed to be constant across all categories. Therefore, for each predictor, there is only one logit coefficient across all the comparisons, i.e., at or below a certain category versus above that category. The Brant test is used to assess the proportional odds assumption (Brant, 1990) . To estimate the ln (odds) of being at or below the j th category, the PO model can be rewritten as\nThus, this model predicts cumulative logits across J \u22121 response categories. By transforming the cumulative logits, we can obtain the estimated cumulative odds as well as the cumulative probabilities being at or below the j th category.\nResearchers may see different forms of the ordinal logistic regression model in literature since different software packages may employ different parameterizations when estimating logit coefficients (Liu, 2009) . For example, SPSS uses the same form as that in Stata. However, SAS uses a different form where a positive sign is placed before logit coefficients."}, {"section_title": "The Multinomial Logistic Model", "text": "The multinomial logistic regression model is also an extension of the binary logistic regression model when the outcome variable is nominal and has more than two categories. It estimates the odds of being at any category compared to being at the baseline category, also called the comparison category. It can be treated as a combination of a series of binary logistic regression models with a particular category = 1, and the base category = 0. When there are J categories, it estimates J\u22121 binary logistic regression models simultaneously. This model can be expressed as follows:\nwhere j = 1, 2, \u2026, J\u22121; J is the base category, which can be any category but is generally the highest one; \u03b1j are the intercepts, and \u03b2j1, \u03b2j2, \u2026, \u03b2jp are logit coefficients. Since the model includes J\u22121 comparisons, it estimates J\u22121 logit coefficients for each predictor."}, {"section_title": "The Stereotype Logistic Model", "text": "Anderson's SL model (1984) can be written in the following form\nwhere j = 1, 2, \u2026, J \u22121; J is the baseline or reference category, which is the last category here, but can be the first category or any of the other categories decided by the researcher; Y is the ordinal response variable with categories from j to J; \u03b1j are the intercepts; \u03b21, \u03b22, \u2026, \u03b2p are logit coefficients for the predictors, X1, X2, \u2026, Xp, respectively, and \u03d5j are the constraints which are used to ensure the outcome variable is ordinal if the following condition is satisfied. "}, {"section_title": "532", "text": "The first constraint, \u03d51 is set to be 1, and the last one, \u03d5J is equal to 0 so that the estimated SL model can be identified. If any two pairs of the constraints are the same, then these two categories are indistinguishable, thus can be collapsed into one. For example, if \u03d53 = \u03d54, these two categories (categories 3 and 4) can be grouped together. The ordinality of the constraints can be tested in the model so that researchers can decide whether any categories need to be merged or re-ordered.\nTo calculate the odds of being in a category j versus a category m, we just need to take the exponential of [(\u03b1j \u2212 \u03b1m) \u2212 (\u03d5j \u2212 \u03d5m)\u03b2]. When the category m becomes the baseline category J, we just need to substitute it into the equation. Since \u03d5J = 0, we get [(\u03b1j \u2212 0) \u2212 (\u03d5j \u2212 0)\u03b2] = \u03b1j \u2212 \u03d5j\u03b2. By exponentiating (\u2212\u03d5j\u03b2), we get the odds of being in a category j versus the baseline category J for a unit change in a predictor.\nThe equation (4) is the forms for Anderson's one-dimension SL model, which was generally referred to as the SL model in literature. Anderson (1984) also argued that an ordinal response variable could be more than one dimension, and therefore proposed the multidimensional SL model. If the ordinal outcome variable has J categories, the maximum dimensions would be J\u22121. The multidimensional SL model with J\u22121 dimensions is actually equal to the multinomial logistic regression model. In this article, we only focus on the one-dimension SL model for the simplicity of model building and interpretation.\nLunt ( (4) looks the same, since both the SL model and the multinomial model estimates the odds of being in a particular category versus the baseline category. Examining the systematic component (linear predictors) in both models, it is obvious that the logit coefficients, \u03b2j in the multinomial logistic model corresponds to (\u2212\u03d5j(\u03b2) ) in the SL model. When there are J categories of the outcome variable and p predictors, we need to estimate (J\u22121) + (J\u22121)\u00d7p parameters in the multinomial logistic model, which also equals (J\u22121)\u00d7(1+p). In the SL model, we estimate [(J\u22121) + (J\u22122) + p] = (2J \u2212 3+p) parameters since \u03d51 and \u03d5J are constrained to be 1 and 0, respectively. Therefore, less parameters are estimated in the SL model than in the multinomial logistic model, and the former model is more parsimonious."}, {"section_title": "Methodology Sample", "text": "Similar to the previous Education Longitudinal Study of 2002 of (ELS: 2002 , the HSLS: 2009 study, conducted by the NCES, was the latest series of longitudinal study in secondary schools. This study surveyed high school students, parents, teachers, school counselors and administrators, and assessed 9 th graders' algebraic skills and reasoning. It was designed to keep track of high school students from grade nine to postsecondary school education and their choice of future careers. In the 2009 base year data, 21,444 high school students, from a national sample of 944 schools, participated in the study. Students were asked to provide information regarding basic demographics, school and home experience, such as math and science activities, coursework, and time spent on different activities, mathematics and science attitude, mathematics and science self-efficacy, their feelings about math and science teacher, and future educational and life plans after secondary schools. The ordinal outcome variable is students' mathematics proficiency, and the predictors are students' math identity (MTHID), mathematics self-efficacy (MTHEFF), school belonging (SCHBEL), and school engagement (SCHENG).\nThe outcome variable, students' mathematics proficiency levels in high schools, was ordinal with five levels (1 = students can answer questions in algebraic expressions; 2 = students can answer questions and solve problems for multiplicative and proportional situations; 3 = students can understand algebraic equivalents and solve problems; 4 = students can understand systems of linear equations and solve problems; 5 = students can understand linear functions, find and use slopes and intercepts of lines, and can use functional notation) (Ingels, et al., 2011) . In addition, those students who failed to pass through level 1 were assigned to level 0. Table 1 provides the frequency of six mathematics proficiency levels (from 0 to 5). "}, {"section_title": "Data Analysis", "text": "First, the PO model was used for the preliminary analysis with the Stata ologit command, and the proportional odds assumption was examined using the Brant test. Then the SL model with a single explanatory variable was fitted using the Stata slogit command. Finally the full-model with all four explanatory variables was fitted. Model fit statistics for both the PO model and the SL model were provided by the Stata SPost package (Long & Freese, 2006) . The results for both models were interpreted and compared. Following the suggestion by Hardin and Hilbe (2007) and Hilbe (2009) , Stata AIC and BIC statistics were used for the comparison of model fit."}, {"section_title": "Results", "text": ""}, {"section_title": "The Proportional Odds Model with Four Explanatory Variables", "text": "A PO model with all four predictor variables was fitted first, since it is the most commonly used model for ordinal response variables. The Stata ologit command with the logit function was used for model fitting. Figure 1 "}, {"section_title": "535", "text": "The log likelihood ratio Chi-Square test, LR \u03c7 2 (4) = 3443.64, p < .001, indicating that the full model with four predictor provided a better fit than the null model with no independent variables.\nThe fit statistics for the model were as follows. The likelihood ratio R 2 L = .060, Cox-Snell R 2 = .175, Nagelkerke R 2 = .183, AIC = 3.043, AIC used by Stata = 54315.508, and BIC = \u2212120340.00. A summary of more detailed fit statistics is provided in Figure 2 . Both AIC and AIC used by Stata in the PO model were used as the base for future model comparisons.\nThe logit effects of all four predictors on the ordinal response variable, mathematics proficiency were significant. The estimated logit regression coefficient for math identity (mthid), \u03b2 = .595, z = 34.66, p < .001; the logit coefficient for mathematics self-efficacy (mtheff), \u03b2 = .188, z = 10.93, p < .001; the coefficient for school belonging (schbel), \u03b2 = .089, z = 6.01, p < .001, and finally, for school engagement (scheng), \u03b2 = .224, z = 14.98, p < .001. All four predictors were positively associated with the log odds of being beyond a proficiency level. In terms of odds ratio (OR), the odds of being beyond a proficiency level were 1.813 times greater with a one unit increase in higher level of math identity, and 1.207 times greater with one unit increase in students' mathematics self-efficacy. In addition, students who had higher level of school belong and school engagement were more likely to be associated with higher level of mathematics proficiency (ORs = 1.093 and 1.251 for schbel and scheng, respectively). "}, {"section_title": "Brant Test of the Proportional Odds Assumption", "text": "The Brant test of the PO assumption was examined using the brant command of the Stata SPost (Long & Freese, 2006) package. Stata Brant test provided results of a series of separate binary logistic regression across different category comparisons, univariate brant test result for each predictor, and the omnibus test for the overall model. Table 2 provides five (j\u22121 = 5) associated binary logistic regression models for the full PO model, where each split compares Y > cat. j to Y \u2264 cat. j, since data were dichotomized according to probability comparisons. Among the logit coefficient of all four variables across five logistic regression models, only the effect of school belonging was similar across these models. The coefficient of math identify was similar across the first three models, but it started to increase from the model 4 to 5; the logit coefficient in model 5 was almost the double of that in model 1. Although the coefficients of school engagement looked similar across the models, those for the models 1 and 5 were the largest. The coefficients of mathematics selfefficacy l were stable across the first four logistic regression models, but it increased abruptly in model 5.\nTo test the PO assumptions, the Brant test provided the results for the overall model and each predictor. Table 3 presents \u03c7 2 tests and p values for the full PO model and separate variables. The omnibus Brant test for the full model, \u03c7 2 16 = 178.52, p < .001, indicating that the proportional odds assumption for the full model was violated. To identify which predictor variables violated the assumption, separate Brant tests were examined for each predictor variable. The results revealed that the univariate Brant tests for the PO assumption were upheld for using computers for fun, and using computers to learn on own. On the other hand, the Brant test was violated for using computers for school work. "}, {"section_title": "The Stereotype Logistic Regression Model with a Single Explanatory Variable", "text": "Stereotype logistic regression models were fitted since they released the PO assumption and allowed the logit coefficients to vary across the ordinal categories.\nFor comparison purposes, model fitting process included both a single variable model and the full model with all four predictor variables. Figure 3 presents the Stata output for the single predictor SL model. The Wald Chi-Square test with 1 degree of freedom, Wald \u03c7 2 (1) = 1044.37, p < .001, indicating that the logit coefficient of the predictor, math identity was statistically different from 0. Since no R 2 statistics were calculated, only the AIC and BIC statistics were reported. The AIC statistic was 3.072, and the AIC used by Stata was 64996.139. BIC was \u2212145654.148, and the corresponding BIC used by Stat was 65075.737.\nThe estimated logit coefficient, \u03b2 = 2.116, z = 32.32, p < .001, indicating that students' math identity had a significant relationship with mathematics proficiency.\nThe SL model estimates the logit odds of being in a category relative to the baseline category. Substituting the value of the coefficient into the formula (4) Prob > chi2 = 0.0000 Recall that \u03d5j is a list of ordinality constraints with the first constraint = 1 and the last one = 0, and it satisfies the condition 1 = \u03d51 > \u03d52 > \u03d53 > \u2026 \u03d5J\u22121 > \u03d5J = 0. The estimated \u03d5js in the model were as follows: 1, .881, .750, .568, .329, and 0, which were used to ensure the ordering of the mathematics proficiency level.\nThe odds ratio of being in a category j versus the baseline category J was obtained by taking the exponential of [(\u03b1j \u2212 \u03b1J)\u2212(\u03d5j \u2212 \u03d5J)\u03b2]. Since the baseline category J was the mathematics proficiency level 5 in the model, the estimated \u03b1J and \u03d5J were 0, and then the equation could be simplified to be (\u03b1j \u2212 \u03d5j\u03b2). By exponentiating (\u2212\u03d5j\u03b2), we got the odds ratio of being a category j versus the baseline J for a unit change in a predictor variable. In this model, the odds ratio of being in mathematics proficiency level 0 compared to being in level 5, OR(0,5) = e (\u22121*2.116) = e (\u22122.116) = .121. This indicated that for a unit increase in math identity the odds of being in mathematics proficiency level 0 compared to being the baseline category 5 decreased by a factor of .121. In other words, students were more likely to be in the highest proficiency level 5 rather than being in level 0 when students had higher level of math identity.\nSince \u03d52 = .881, the odds ratio of being in mathematics proficiency level 1 compared to being in level 5, OR(1,5) = e (\u2212.881*2.116) = e (\u22121.864) = .155. Since \u03d53, \u03d54, and \u03d55 were .750, .568, and .329, respectively, the odds ratio of being in the other proficiency levels compared to being in the baseline level were calculated in the same way. OR(2,5), OR(3,5) and OR(4,5) were .205, .301, and .498 respectively.\nThe odds of being in the baseline category J, relative to a particular category j, is the inverse of the odds of being in that category versus the baseline category. To estimate the odds of being in the baseline category relative to a particular category, we just need to change the signs before the cutpoints and the estimated logits in the equation (6). The modified logit equation, logit[\u03c0(J, j | mthid)] = \u2212\u03b1j + \u03d5j \u00d7 2.116(mthid). By exponentiating (\u03d5j\u03b2), we get the odds ratio of being in the baseline category J versus any other category for a one unit change in a predictor variable.\nOR(5,0) = e (1*2.116) = 8.295, indicating that the odds of being in the proficiency level 5 relative to the level 0 were 8.295 times greater with one unit increase in math identity. The odds ratio of being in the baseline level 5 compared to being in level 1, OR(5,1) = e (.881*2.116) = e (1.864) = 6.449. The ORs of being the baseline category versus the other three categories were computed in the same way, and they were 4.889, 3.326, and 2.006, respectively."}, {"section_title": "The Full Stereotype Logistic Regression Model with Four Predictor Variables", "text": "Next, the full SL model with all four predictor variables was fitted. Figure 4 and Prob > chi2 = 0.0000 Compared with the single-variable SL model (see Table 4 ), both AIC and AIC by Stata indicated that the full-model fitted the data better (3.034 and 54156.535, respectively for the full-model vs. 3.072 and 64996.139, respectively for the single model). This result was also supported by the model comparison using the BIC and BIC by Stata.\nCompared with the PO model (AIC = 3.043, and AIC used by Stata = 54315.508), the full SL model also had a better fit, which indicated that the SL model was a better choice when the proportional odds assumption was untenable in the PO model.\nThe logit effects of all four predictor variables on mathematics proficiency were significant. Similar to that in the single variable SL model, the estimated logit regression coefficient for math identify (mthid), \u03b2 = 1.655, z = 26.59, p < .001; the logit coefficient for mathematics self-efficacy (mtheff), \u03b2 = .530, z = 10.91, p < .001; the logit coefficient for school belonging (schbel), \u03b2 = .224, z = 5.58, p < .001; and finally, for school engagement (scheng), \u03b2 = .625, z = 14.32, p < .001. These logit coefficients compared the probabilities of being in the baseline category versus the lowest category. The all four predictor variables were positively associated with the odds of being in the baseline level 5 compared to the level 0. In terms of odds ratio (OR), the odds of being in the baseline proficiency level 5 versus the level 0 increased by a factor of 5.231 with a one unit increase in math identity; they increased by a factor of 1.699 for a one unit increase in mathematics selfefficacy; they increased by a factor of 1.251 for school belonging; and finally they increased by a factor of 1.868 for school engagement, holding the effects of the other variables constant. Just as the single-predictor SL model, by exponentiating (\u03d5j\u03b2) for each of the four predictor variables, we obtain the odds of being in the baseline category J versus any other category. Table 5 shows the odds comparing the baseline category and the other categories for all four predictor variables. "}, {"section_title": "Conclusions", "text": "The use of stereotype logistic models was used to estimate ordinal mathematics proficiency using Stata when the proportional odds assumption is not upheld. The PO model with Stata was fitted first for the preliminary analysis, and then the proportional odds assumption was tested. The results of the Brant test indicated that the proportional odds assumption was violated. We then fitted the SL models starting from a single-variable model to the full model with four predictor variables. Finally, results of the PO model and the SL model were interpreted and compared.\nCompared to the PO model, it is found that the SL model is a better option when the proportional odds assumption is untenable. The SL model not only relaxes the PO assumption but also ensures the ordinal information of the categorical variable by putting an ordinality constraint on the estimated coefficients.\nIt should be noted that the interpretations of the odds ratios in the PO model and the SL model are different. While the PO models estimate the cumulative odds of being at or below a particular category relative to above that category, the SL models estimate the odds of being at a category relative to the baseline category. In addition, to calculate the odds ratios in the SL model, we need to take both the ordinality constraints and the logit coefficients into consideration. In other words, we need to take the exponential of the product of the ordinality constraints and the coefficients.\nAlternative to the SL model, another option dealing with the violation of the proportional odds assumption is the partial proportional odds (PPO) model or the generalized ordinal logit model. Interested researchers may refer to Peterson and Harrell (1990) for theories of the PPO model, Fu (1998), Liu and Koirala (2012) , and Williams (2006) for the illustration of both models using Stata, and O'Connell (2006) , and Stoke, Davis and Koch (2000) for the illustration of the PPO model using SAS.\nBecause the SL model is not widely available in other statistical software packages, the focus was only on the illustration of the use this model in Stata. Future research will be extended to other software packages once they make the SL model available. It is our hope that researchers could familiarize with the SL model and apply it correctly in their own research."}]