[{"section_title": "Abstract", "text": "NASA Langley proposed the Aerial Regional-scale Environmental Survey (ARES) of Mars science mission in response to the NASA Office of Space Science 2002 Mars Scout Opportunity. The science-driven mission proposal began with trade studies and determined that a rocket powered aircraft was the best suited platform to complete the ARES science objectives. A high fidelity six degree of freedom flight simulation was required to provide credible evidence that the aircraft design fulfilled mission objectives and to support the aircraft design process by providing performance evaluations. The aircraft was initially modeled using the aero, propulsion, and flight control system components of other aircraft models. As the proposed aircraft design evolved, the borrowed components were replaced with new models. This allowed performance evaluations to be performed as the design was maturing. Basic autopilot features were also developed for the ARES aircraft * Aerospace Engineer, Member AIAA. \u2020 ARES Airplane Chief Engineer, Member AIAA model. Altitude hold and track hold modes allowed different mission scenarios to be evaluated for both science merit and aircraft performance. Platform stability and data rate requirements were identified for each of the instruments and the aircraft performance was evaluated against those requirements. The results of the simulation evaluations indicate that the ARES design and mission profiles are sound and meet the science objectives."}, {"section_title": "Introduction", "text": "NASA's Mars Scout Opportunity enlisted proposals for innovative investigations that complement NASA's core Mars Exploration Program. NASA Langley Research Center teamed with the Jet Propulsion Laboratory (JPL), Lockheed Martin, Aurora Flight Sciences, Charles Stark Draper Laboratory, Malin Space Science Systems, and several prominent academic researchers to participate in the opportunity. The team established science goals for the project to address some of the more intriguing questions about Mars. Achieving the goals reguired a regional survey of the planet [1] and trade studies determined that an aircraft w as the best suited American Institute of Aeronautics and Astronautics platform [2] . This led the team to propose a project where an aircraft would be released into the atmosphere of Mars to perform an Aerial Regionalscale Environmental Survey (ARES).\nA sound proposal required the development of a detailed aircraft design that could complete the mission objectives in a convincing manner [3] . As the design evolved, aircraft capability needed to be evaluated. Certain key questions needed to be addressed for each design iteration such as: could the aircraft pullout before striking the ground after being released from a spacecraft?; could it fly long enough to meet the science objectives?; could the aircraft provide a stable platform that would allow the instrumentation to make usable measurements? A high fidelity six degree of freedom (6-DOF) flight simulation was required to provide credible answers to these questions."}, {"section_title": "Simulation Requirements", "text": "The primary science objectives defined by the science team address highly desirable scientific goals and bridge critical scale and resolution measurement gaps in the Mars Exploration Program. The objectives required the aircraft to autonomously fly a pre-planned aerial survey approximately 1.5 km above the surface of Mars in the southern highlands while carrying several scientific instruments (Figure 1 ).\nTo accomplish its mission objectives the aircraft must be inserted into the atmosphere of Mars following a year-long interplanetary cruise. The aircraft was designed to be folded up for transport inside the aeroshell of an e ntry vehicle. The deployment sequence is illustrated in Figure 2 . The sequence begins with the spacecraft releasing the entry vehicle into the atmosphere. The entry vehicle then deploys its parachute and begins to decelerate. The heatshield is released after the entry vehicle has slowed sufficiently. Shortly thereafter, the folded aircraft is released from the aeroshell. As the aircraft falls away from the entry vehicle, the tails and wings unfold and the aircraft begins its flight. Its first task is to arrest its descent and to pullout into horizontal flight. Once the pullout is complete the aircraft can begin its preplanned aerial survey.\nThe Langley Standard Real-Time Simulation in C++ (LaSRS++) application framework was used to evaluate the flight of the aircraft starting from where the aircraft was fully deployed, i.e. free from the entry vehicle and unfolded. Other simulation tools modeled the aircraft/entry body dynamics and aircraft unfolding. The LaSRS++ based simulation was therefore required to i nitialize the aircraft states from the outputs of the other simulation tools. Then the aircraft simulation would evaluate/analyze the pullout maneuver and navigation following the planned flight profile. Performing these analyses required developing two items: a Mars environment and an ARES aircraft model.\nLaSRS++ supports different world models and required little modification to add the Mars environment [4] . Environmental models were developed to use the data and equations found in the Mars-GRAM 2001 dis tribution and were unittested against the Mars -GRAM application [5] . This paper focuses on the modeling of the ARES aircraft and will not go into further detail on the Mars environmental models. The ARES aircraft model was initially constructed with a min imal set of components. Aerodynamic, propulsion, and flight control system components were leveraged from other simulation projects and configured to ARES specifications. The mass properties, fuel system, sensor system and other system components were constructed from mature, high fidelity framework models developed for other aircraft simulation projects. The leveraged simulation components were replaced with ARES specific models as the ARES models became available. Later, each ARES model would be replaced with progressively more detailed models. This allowed performance evaluations to be performed as the design was maturing."}, {"section_title": "Aerodynamic Modeling", "text": "The aerodynamic model developed for ARES evolved from a simple low-fidelity model to a American Institute of Aeronautics and Astronautics more detailed ARES-specific model as the aircraft's design matured. Initially, only estimated design parameters established during the selection of the aircraft's shape were available. While several computational tools were being used to generate aerodynamic data, the simulation needed some type of aerodynamic model to begin performance studies of the aircraft in different atmospheric effects (winds, turbulence). With this in mind, an aerodynamic model from a different aircraft was used to simulate the ARES aircraft. A general aviation linearized aerodynamic model was selected, and its parameters were set to ARES-like properties. The linearized model consisted of two components, a longitudinal model and a lateral model. Both mo dels used constant aerodynamic derivatives to build up t he total lift, drag, sideforce, pitching, rolling, and yawing coefficients. Although this was a very simple aerodynamic model, it allowed initial mission analyses of gross vehicle properties and fundamental airplane behavior.\nAs the computational tools began to produce results, the linearized aerodynamic models were refined to use the new data. Changes to the parameters of the linearized mo dels only required a few minutes and thereby allowed the modifications to be evaluated very quickly. Eventually a more complex longitudinal aerodynamic model was created from data generated by a 3-D aerodynamic prediction tool that uses a non-linear Weissinger method [3] . The data provided C L , C D , and C M as a function of angle-of-attack (\u03b1), Mach number (M), Reynolds numb er per meter (Re), and elevator deflection ( \u03b4e). Four-dimensional table lookups were formed using these data sets. The computations limited M, Re, and \u03b4e to the bounds of the data provided. Data lookups in angle-ofattack were allowed to exceed the data bounds for drag but were table-bounded for lift computations. This allowed a conservative modeling of cruise performance while still underestimating the likely parabolic drag increase in the pullout region. Limitations to the database stem from the fact that the Weissinger method becomes unstable at high \u03b1 and cannot be used past the onset of stalled flow anywhere on the configuration. Other computational methods capable of capturing these non-linear effects and are being used to update the longitudinal aerodynamics as the solutions continue to develop.\nThe generic lateral aerodynamic model was replaced with a model created from data generated by an inviscid vortex lattice analysis program named VORVIEW [3] . The data provides stability and control coefficients as a function of \u03b1 and M. Two-dimensional table lookups were created from these data sets. The results of the table lookups are then used to compute C Y , C l , and C n using the usual equations for the lateral/directional aerodynamic coefficients [7] .\nPullout studies indicated that the aircraft would traverse well into the transonic flight regime unless some type of drag device was employed to reduce speed. Several different body flap configurations, spoilers and drogue chutes were simulated and evaluated. The drogue chute was selected as the pullout drag device. Not only does the drogue chute reduce the maximum Mach number achieved during the pullout but it also helps to correctly orient the aircraft after it exists the aeroshell. Most of the weight penalty associated with using a drogue chute is shed when the riser chord is cut. The drogue chute was initially modeled only as a drag device with no lift or pitching moment contributions. The drag-only model was selected because it minimized complexity and provided a very conservative estimate of the aircraft's performance during pullout.\nThe drogue chute model evolved into a two-body, 12-DOF model where the drogue chute is a separate 6 -DOF model connected to the aircraft model via a massless interconnecting spring and damper system. Figure 3 illustrates the concept. The resulting equation for the riser tension is modeled as "}, {"section_title": "Flight Control System", "text": "The flight control system began in much the same way as the aerodynamic model. The inner and outer loops matured from very simple low fidelity models to more complex higher-fidelity models. The inner loop portion of the control system was initially leveraged from a general aviation aircraft model. These control laws were very simple and allowed for easy modification. As the aerodynamic parameters were modified to reflect ARES performance, the gains of the control laws were tweaked to maintain a stable aircraft.\nShortly after the first outer mold lines were established, the inner loop control laws were adapted from a previous Mars aircraft development project. The inner loop is composed of three distinct laws, a longitudinal, a lateral and a directional. An \u03b1 command law is used to control the vehicle in the longitudinal axis by computing elevator commands. A roll angle command law controls the lateral axis by generating aileron commands. The directional axis is controlled by a \u03b2-compensator with aileron-rudder-interconnect (ARI). The control laws can be seen in Figures 4, 5, and 6. The elevator and rudder commands must be mixed together because the ARES aircraft has a ruddervator rather than an individual elevator and rudder. The aileron command must also be mixed with the aileron droop command to produce a flaperon command. The ruddervator command mixing diagram can be seen in Figure 7 . The diagram illustrates that priority is given to the elevator over the rudder. The flaperon command mixing diagram can be seen in Figure 8 . In this diagram the aileron commands are given priority over the droop command. The actuator models for the ruddervators and the flaperons are illustrated in Figures 9 and 10 .\nIn order to begin detailed mission analysis, the aircraft needed additional navigational capability. With that in mind, several autopilot modes were leveraged from a generic transport aircraft project. An altitude-hold mode was incorporated into the flight control system to allow the aircraft to maintain a constant altitude above the terrain. While the original altitude hold model was based on an N z (vertical acceleration) command control system, it was easily modified to work with an \u03b1 command system. Most of the changes involved gain refinement for the ARES aircraft. A vertical speed mode and a flight path angle command mode were also added to assist in analyzing the climb performance of the ARES aircraft design. The additional modes added little to the complexity of the control laws as the modes share the same intermediate computations of the altitude hold mode. The longitudinal autopilot modes are shown in figures 11 and 12.\nA track hold mode was also incorporated into the flight control system. This mode allowed the aircraft to follow a pre-determined path via a sequence of heading commands. The lateral auto modes can be seen in figure 13.\nAn N z command longitudinal law was added to support sensor reliability and functional redundancy analysis. The flight control system was modified to be able to switch between the \u03b1 command law and the N z command law. The N z modes can be seen in figures 14 and 15."}, {"section_title": "Propulsion Models", "text": "Like the other components, the propulsion system also matured from a simple model to a high-fidelity American Institute of Aeronautics and Astronautics model. The propulsion system initially used a simple linear thruster with lag that could be throttled to allow the aircraft to be placed in a trimmed state. Autothrottle logic was incorporated to hold the aircraft's speed while flying a mission profile. As the design of ARES progressed, a particular thruster was selected, and the thruster modeled in the simulation was modified to reflect its performance. The selected thruster cannot be throttled; instead duty cycle adjustments provide the needed thrust modulation. The autothrottle law was also modified to accommodate the pulsing mode of the thruster. Figure 16 illustrates the autothrottle law for the pulsed mode thruster. The law uses two key elements, a thrust period and a duty cycle. The two elements define how long the thruster is on (period * duty cycle) and off. The mach_average input shown on the diagram is an average of the Mach number over the current thrust period. Once a thrust period has ended the duty cycle is modified to reflect the error between the commanded Mach number and the average Mach number for the period."}, {"section_title": "Aircraft Performance", "text": "A majority of the simulation analysis examined the aircraft's pullout performance and total mission range as key parameters were varied such as mass, arrival time, fuel load, etc. The simulations were primarily focused on two aircraft masses, the Current Best Estimate (CBE), and the Allocation. The CBE mass represented the most up to date value for the total dry mass of the aircraft. The Allocation mass r epresented the largest possible aircraft mass that could be used and still complete the mission.\nFor the pullout scenarios, the simulated ARES aircraft was given an initial position and orientation that was generated by the entry vehicle simulations. The initial conditions were selected at various time increments after the heatshield was released from the entry vehicle. The time increment represents the time required for the aircraft to emerge from the entry body and to lock its wings and tail section into a flying configuration. Figure 17 depicts a nominal pullout for the both the CBE and the Allocation aircraft. The dotted red line indicates the 3\u03c3-high altitude of terrain in the entry area. The graph clearly shows the CBE aircraft easily completes the pullout without striking the ground and must descend approximately 2 km to capture the cruise altitude of 1.5 km above the local terrain. The Allocation aircraft completes its pullout also above the 3\u03c3-high terrain, but at an altitude significantly lower than the CBE aircraft.\nThe nominal science-driven flight profile for the ARES aircraft requires that it navigate a racetrack path as illustrated in Figure 18 . The profile requires the aircraft to turn north after it completes the pullout maneuver, and then fly 240 km before turning 180 degrees to establish a southerly heading. After it has traversed another 100 km, the aircraft makes a 90 degree turn due west, and flies in this direction until it has flown 5 km past the original northerly track. The profile concludes with the aircraft turning due north again, where it flies until it runs out of propellant. For consistent-range analysis the CBE aircraft was given a partial propellant load to cruise 500 km (without accumulating range during pullout or the unpowered descent onto the surface). However, the aircraft can hold enough fuel in the CBE configuration to fly over 600 km.\nAs part of the design process, Monte-Carlo simulations were used to evaluate the aircraft's performance. A piecewise computation approach was used where the initial conditions of the aircraft states were defined by the results of each case run in a separate entry body Monte-Carlo simulation. Typically, a total of 2000 cases were performed for each assessment. In an effort to thoroughly test the aircraft, two sets of Monte-Carlo simulations were run in the aircraft simulation, one set for the pullout, and one set for the entire mission profile. Different states were varied for the two sets that were tailored to the conditions in question -pullout performance and range. Figure 19 The ARES aircraft simulation was also used to verify that the aircraft provided a sufficiently stable platform for the imaging instruments. The rigidlymounted uncompensated imaging instruments required the aircraft to limit pixel smear to \u00bd pixel per exposure frame (7 ms). Pixel smear is generated from the forward velocity and angular body rotation of the aircraft. Turbulence modeling in all three body-axis based on MIL-STD-1797A\n[8] was applied during the cruise phase. The change in the angle between the z -body axis and the local-vertical normal vector on the surface of the areoid was computed. This quantity is the angular induced portion of pixel smear at the imagining instruments. Figure 21 shows both the look down angle and the total pixel smear for a portion of the mission. The results demonstrated that the pixel smear values were within the requirements of the instrument.\nThe remaining figures demonstrate the results of some typical trade studies conducted with the aircraft simulation. Figures 22 and 23 depict the aircraft's total range for the CBE and Allocation masses when flying at different altitudes above the terrain and at different cruise speeds. The study was used to verify that the required mission cruise speed and altitude provided near optimal range. Figure 24 illustrates the Mach profile for the Allocation aircraft for different drogue chute sizes. Note that the abrupt change in the Mach number trend in the 60-80 second time frame corresponds to drogue chute release. As mentioned earlier, the drogue chute serves several functions, one of which is to keep the aircraft from entering the transonic flight regime. The size of the chute was therefore optimized for each aircraft mass to allow the aircraft to achieve no higher than Mach 0.7 during the pullout maneuver.\nThe chute release methodology evolved from a simple method to one that is thought to be very robust. Initially several options were investigated and flight path angle was found to provide an optimal indicator of when to release the chute. Figures 25 and 26 show the peak Mach number and the pullout altitude of the Allocation aircraft when the chute is released as the aircraft achieves different flight path angles. The plots show that the best pullout performance occurs when the chute is released at -50 degrees but the aircraft becomes transonic. The next best pullout performance occurs when the chute is released at approximately -21 degrees and has a maximum Mach number of 0.68. This represents an optimal pullout profile. However, the accuracy of flight path angle may not be sufficient enough to serve as a trigger for critical mission events like drogue chute release. Subsequent studies showed a correlation between the optimal flight path angle method and the rise and fall of Mach number during the pullout. A new method to release the chute was created that triggers the event if the Mach number decreases by a certain percentage of the peak Mach number. Figure 27 shows the pullout altitudes using the new strategy. Best pullout performance occurs when the drogue chute is released as Mach becomes 8% less than the peak Mach. Figure 28 illustrates that the Mach profiles for the best performance profiles of the two release strategies are nearly identical and are therefore comparable. Using the change in indicated Mach number for the chute-cut trigger enhances robustness as compared to relying on absolute f light path angle. Flight path angle requires relatively accurate measurements from completely different sensors (angle of attack and pitch attitude), whereas the relative Mach number method uses a single state. Even uniform measurement errors in Mach number will not adversely affect the Mach-monitoring scheme."}, {"section_title": "Future Work", "text": "Though the ARES proposal was not selected for the Mars Scout mission, NASA Langley plans to American Institute of Aeronautics and Astronautics continue work in several areas to advance the maturity of the total ARES mission design. Several improvements have already been planned for the aircraft simulation. A 1/4 scale model will be tested in the Transonic Dynamics Tunnel (TDT) at NASA Langley Research Center. The TDT is capable of providing the relevant Martian atmospheric environment for the aircraft's flight envelope. The tests will produce a new aerodynamic database that will be incorporated into the simulation. Aircraft performance analysis will be refined using the new aerodynamic database. Other models will also be expanded. The drogue chute model complexity will be increased. The flight control system will be modified to use the control laws that will be incorporated into the actual airframe. The propulsion model will be modified to model the thruster in detail, and the fuel system will evolve to provide a high-fidelity fuel slosh model that incorporates center of gravity and inertia effects. The sensor system will be modified to simulate the exact sensors that will be used on the aircraft. The simulation will also be used to analyze the performance of the second High Altitude Drop Demonstrator (HADD-2) [7] . The overall maturity of the mission will continue to increase as aircraft analysis proceeds. All of these enhancements are easily accommodated and subsequently evaluated using the extensive existing airplane simulation components found in LaSRS++."}, {"section_title": "Concluding Remarks", "text": "The ARES aircraft simulation proved to be a useful resource for the ARES design team. The simulation was able to rapidly absorb new changes and allow the performance of the aircraft to be analyzed in a timely manner. The performance of the aircraft simulation indicated that ARES was capable of completing the pullout maneuver, flying a fully developed mission profile, and maintaining a stable platform to obtain valuable scientific data with margin. The maturity of the LaSRS++ framework allowed analysis well beyond a \"phase A\" study because it brings real-world issues to bear. The simulation-based results credibly show that the ARES team has developed a highly capable aircraft design and mission plan. "}]