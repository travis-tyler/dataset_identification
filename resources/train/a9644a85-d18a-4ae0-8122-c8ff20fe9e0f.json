[{"section_title": "Abstract", "text": "ABSTRACT. This paper studies social interactions in a game theoretic model with players in a large social network. We consider observations from one single equilibrium of a large network game with asymmetric information, in which each player chooses an action from a finite set and is subject to interactions with her friends. Simple assumptions about the structure are made to establish the existence and uniqueness of equilibrium. In particular, we show that the equilibrium strategies satisfy a network decaying dependence (NDD) condition requiring that dependence between any two players' decisions decays with their network distance. The formulation of such an NDD property is novel and serves as the basis for statistical inference. Further, we establish the identification of the structural model and introduce a computationally feasible and efficient estimation method. We illustrate the estimation method with an actual application to college attendance, as well as in Monte Carlo experiments."}, {"section_title": "INTRODUCTION", "text": "Over the last decades, network effects on social behaviors has become important in social theory (see e.g. Granovetter, 1985) . In particular, economics has been encouraged to broaden its scope to the analysis of social interactions while maintaining the rigor that is emblematic of economic analysis (Manski, 2000) . Recently, game theory has played a central role in this regard and a leading example is the study of network formation by Bala and Goyal (2000) . In this paper, we propose a network game of incomplete information to study large-network-based social interactions. Simple assumptions about the game structure are made to ensure a unique equilibrium and the equilibrium satisfies a decaying network effects condition. We then establish identification and estimation of the structural primitives using data from a single large network.\nThe structure of our network game follows the \"preference interaction\" approach suggested by Manski (2000) . Specifically, a player's payoff from choosing an action over alternatives depends on other players' simultaneous actions as well. 1 Instead of interacting with all players on the social network, we assume each agent is only affected by the choices of her direct best friends. We call it as \"local\" interactions, a notion that was first introduced by Seim (2006) in the context of industrial organization. Such a specification is parsimonious, but rich enough to generate the interdependence of all agents' choices, which is shaped by the way the network gets connected. For example, teenagers are inclined to be affected by their friends in terms of adolescent risky behaviors (see e.g. Nakajima, 2007) , but such local effects can spread through the network. In particular, they are indirectly affected by the behaviors of their friends' friends, because their friends are interacting with.\nIn equilibrium, all teenagers from the same network will affect each other directly or indirectly.\nOur local interaction specification differs from the \"linear-in-mean\" approach widely used in the literature on social interactions (see e.g. Manski, 1993) . The latter captures the notion that an individual's behavior depends on the average behavior of all other social members. The local interaction approach is attractive in the study of large-network-based social interactions: First, our model allows one to study the counterfactuals and the policy effects from the change of network graph. In contrast, much of the theoretical literature on network interventions have long focused attention on qualitative features like the stability, but not quantitative effects. A second advantage is that an equilibrium in our local interaction model exhibits features that reflect how the large network connects players to each other. Last but not least, the strategic effects between any pair of friends in our model are not diluted by the large size of the network, which is a typical feature in linear-in-mean models.\nBy restricting the interaction strength to be sufficiently mild, we establish the uniqueness of the equilibrium. Uniqueness of the equilibrium is always crucial and of interest to both theoretical and empirical sides in game theory. In the presence of multiple equilibria, it is quite difficult to characterize the whole set of equilibria in a large network game:\nWhen the network is not regular, we cannot use a Markov-type of equilibrium solution concept to simplify empirical analysis like in the dynamic model inference. Another more fundamental concern is the \"incompleteness\" of the econometric model due to the existence of multiple equilibria (see Tamer, 2003) . In the empirical game literature, uniqueness can also be found in, e.g., Brock and Durlauf (2001) and Xu (2014) .\nWhile there are strategic interactions among friends in a large network, players' choices are mutually dependent on each other. Intuitively, one would expect such a dependence to decay with the network distance. Under primitive conditions on the strategic components, we show that the dependence of a player's equilibrium choice on her friends' choices decays (exponentially) with network distance, a so-called \"network decaying dependence condition\" (NDD condition) that more or less amounts to the restrictions for a stationary solution in the autoregressive model. Our NDD condition is related to a number of dependence decay conditions used in the time series and spatial analysis (see e.g. Jenish and Prucha, 2009 ).\nWhen the data come from the equilibrium of a single large network game, all observations are dependent on each other due to strategic interactions. The NDD implies that any two players' decisions are closer to be independent if they are farther away from each other.\nThe formulation of NDD is novel and serves as the basis for our statistical inference.\nFor estimation, a key challenge arises because it is costly to solve the equilibrium analytically or numerically. We propose a new approach that approximates the equilibrium solution by solving n (i.e. the number of players) Bayesian games of much smaller size, one for each player. Specifically, for player i, a Bayesian game is tailored from the original one by cutting off all those players whose network distances from i are larger than h (h \u2208 N).\nThe set of players left on the sub-network, as well as their payoffs, action space, information structure and so on, defines a smaller-sized Bayesian game. We solve this subnetwork game and use the equilibrium solution of player i to approximate her equilibrium strategy in the original large network game. The tuning parameter h is chosen carefully depending on the network size n, i.e., h needs to increase with n at an exponential rate such that approximation errors are negligible for the limiting distribution of the estimator. By this approximation, we then define an approximated maximum likelihood estimator (AMLE), which is shown to be asymptotically equivalent to the infeasible MLE. We use Monte Carlo experiments to illustrate the proposed estimation method, which performs well.\nIt is worth pointing out that our asymptotic analysis is based on the number of players going to infinity, instead of the infinite repetition of the same game with a small fixed number of players. The latter asymptotic approach is used by most of the existing empirical game literature, e.g. Bjorn and Vuong (1984) , Bresnahan and Reiss (1991) , Brock and Durlauf (2001) and Tamer (2003) . Our asymptotic analysis applies to observations coming from one or a small number of large networks. In a a seminal paper, Menzel (2015a) characterizes the asymptotic distribution of a large matching market. The analysis is similar in spirit to our approach in terms of using the limiting distribution as the number of players goes to infinity to approximate the distribution of the equilibrium in a large game. An important difference is that in Menzel (2015a) the strategic effects that cause the endogeneity issue become negligible as the number of players increases to infinity, which is not the case in our asymptotic analysis.\nWe apply our methods to study college attendance decisions of high school students by using the data from the National Longitudinal Study of Adolescent Health (Add Health).\nThe Add health data is a longitudinal survey containing a nationally representative sample of adolescents in the United States during the 1994-95 school year. A unique feature in Add Health data is the availability of respondents' social network information, which is reconstructed by students' best friends nominations in the survey. Applying the proposed estimation procedure, we find statistically significant, positive peer effects, which has a similar scale to other empirical findings of peer effects on youth behaviors using the similar or earlier datasets. See e.g. Calv\u00f3-Armengol, Patacchini, and Zenou (2009) and Gaviria and Raphael (2001) .\nThe rest of the paper is organized as follows. In Section 2, we describe the data and provide descriptive statistics. In Section 3, we introduce the network game model and establish the uniqueness of the BNE and the NDD condition. In Sections 4, we establish identification of the model. In Section 5, we propose an estimation procedure. To present basic ideas, we first show the proposed estimator is asymptotically equivalent to the MLE and derive its asymptotic properties. We then study its finite sample performance by using Monte Carlo experiments. Applying the proposed method, we also present the baseline coefficient estimates and compares them with alternative empirical results in the literature. Section 6 concludes. Proofs are provided in the Appendix."}, {"section_title": "DATA", "text": "We study peer effects on college attendance of high school students using data from the National Longitudinal Study of Adolescent Health (Add Health), which is a longitudinal survey containing a nationally representative sample of adolescents in the United States during the 1994-95 school year. A unique feature of the Add Health data is the availability of respondents' social network information, as well as their social and economic characteristics (including college attendance): Each respondent provides his or her friendship information by nominating at most five male and female best friends, respectively. Intuitively, one can then reconstruct the whole friendship network among respondents. All the respondents in our empirical study come from three high school networks and the total number of observations is n = 831. A detailed description of the data can be found on the website of the Carolina Population Center. "}, {"section_title": "5", "text": "The college attendance decisions must have been made by individual families during a short period. Following the literature (see e.g. Christensen, Melder, and Weisbrod, 1975; Leslie and Brinkman, 1988) , the exogenous covariates that affect college attendance include age, household income, GPA, parents' education level, race, gender, etc. Descriptive statistics are presented in Table 1 Income is between $50,000 and $74,999. Mother's Education and Father's Education are coded as 1 = never went to school, 2 = not graduate from high school, 3 = high school graduate, 4 = graduated from college or a university, 5 = professional training beyond a four-year college. There is a severe missing data issue in these two variables: we treat missing observations as value 0. For the observed subsample, the medians of Mother's Education and the median of Father's Education are high school graduate. Over the whole sample, however, both medians are zero.\nAs a matter of fact, we only use observations from three largest schools. For schools with small numbers of respondents, the missing data issue is severe. Therefore, the descriptive statistics in Table 1 are slightly different from other studies on social interactions that use the whole Add Health dataset (see e.g. Calv\u00f3-Armengol, Patacchini, and Zenou, 2009 ).\nThe number of friends and the network centrality are two descriptive statistics on the network structure. Player i's network centrality is defined by the number of players who take i as a friend, i.e., \u2211 j =i 1(i \u2208 F j ). In the data, the standard deviation of the number of friends is less than the standard deviation of the network centrality, which is a typical feature in social networks."}, {"section_title": "THE MODEL", "text": "Following our empirical application, we consider a game theoretic model on social interactions of high school students' college attendance decisions. All these students are denoted as players indexed by i \u2208 N \u2261 {1, \u00b7 \u00b7 \u00b7 , n}, with exogenously determined locations on the school network. Using the terminology in graph theory, a vertex of the network denotes a student and a directed edge connects vertex i to j if student j is one of i's best friends. Following the network distribution theory (see e.g. Barab\u00e1si and Albert, 1999) , we can view the high school network as a random graph with vertex connectivities governed by some probability distribution, and the observed network in our data is a single realization of the large random network. Given the network, we denote F i as the group of i's best friends, i.e., the set of students are directly connected to i. Note that friendship may not be symmetric, i.e., j \u2208 F i does not necessarily imply i \u2208 F j , which is an important feature in our data. Moreover, let Q i = #F i be the number of i's best friends. In our game theoretic model, we assume the school network structure is public information. Therefore, F i is also public information. \nWe assume that \u01eb i is i's private information, i.e., \u01eb i is not observed by any j = i."}, {"section_title": "3", "text": "In our 3 It should be noted our specification rules out unobserved heterogeneity, which is observed by all the players but not the researcher. \nwhere \u03b2 k (\u00b7) is a choice-specific function, and \u03b1 k (\u00b7, \u00b7, \u00b7) measures the strategic effects on i's payoff (of choosing k) from her friend j's decision. In our specification, the strategic effects depend on the state variable X i as well as Q i . Because only the differences of choicespecific payoffs matter to decision makers, hence, w.l.o.g., we normalize the mean utility of action 0 by letting\n\u2032 be the structural parameters of the game, which are unknown functions.\nIt is worth pointing out that our model can be extended to allow for exogenous interaction effects, i.e., player i's payoffs U ik depends on X j for all j \u2208 F i . See e.g. Manski (1993) and Bramoull\u00e9, Djebbari, and Fortin (2009) . Our approach could be modified to accommodate such an extension. 4 In our empirical application on college attendance, high school students are less likely to make their attendance decisions according to friends' demographic variables (e.g. Household income, Parents' education level and Overall GPA).\nOn the other hand, such payoff relevant covariates of friends can affect each individual's decision indirectly through her expectation on friends' equilibrium choices.\nIn our setting, direct interactions on payoffs only occur among friends. Although interactions are local, strategic effects can spread throughout the whole network if no subnetwork is isolated. For instance, each player needs to consider the decisions by the friends of her friends. This is because those decisions are relevant to her friends' choices which thereafter 4 We thank a referee for this point. 8 affect her payoffs. In the equilibrium, each player's strategy depends on all other players' public observables {(X j , F j )} j =i as well as her own state variables (X i , F i ). 5 3.1. Bayesian Nash Equilibrium (BNE). Let S n = (S 1 , \u00b7 \u00b7 \u00b7 , S n ) be all the public information in the network game. For simplicity, we will suppress the subscript n in S n unless the subscript is necessary. To discuss the equilibrium solution, we fix the public state variable"}, {"section_title": "S.", "text": "In this Bayesian game, player i's strategy is a function r i (\u00b7|S; \u03b8) that maps her private information \u01eb i to a discrete choice Y i . Following the BNE solution concept, player i's equilibrium strategy, denoted as r * i , maximizes her (conditional) expected payoff given all other players equilibrium strategies r * \u2212i , i.e.,\nThus, eq. (2) defines a simultaneous equation system in terms of r * 1 , \u00b7 \u00b7 \u00b7 , r * n . To characterize the BNE solution, we first make the following assumption on the private information \u01eb i ."}, {"section_title": "Assumption A. Let \u01eb ik be i.i.d. across both actions and players and conform to an extreme value distribution with a density function f", "text": "Assumption A has been widely assumed in the discrete choice model literature, as well as in empirical discrete games (see, e.g., Brock and Durlauf, 2002; Bajari, Hong, Krainer, and Nekipelov, 2010 ). The independence of \u01eb i across players in assumption A implies that players' equilibrium choices are conditionally independent given S. Therefore, the network dependences of players' decisions are all characterized by the dependence of players equilibrium strategies r * i on the common state variable S. By assumption A, we can rewrite (2) in terms of equilibrium choice probabilities. Let\n\u2032 be the equilibrium choice probabilities of action k and the action profile, respectively. Let further \u03a3 * (S; \u03b8) = (\u03c3 * 1 (S; \u03b8), \u00b7 \u00b7 \u00b7 , \u03c3 * n (S; \u03b8)) be the equilibrium choice probability profiles of all players. By (2) and assumption A, we have\nNote that solving the BNE solution {r Hong, Krainer, and Nekipelov (2010) . Equation (3) is the common logit functional form, except for the presence of the equilibrium choice probabilities of i's friends. The existence of a solution follows Brouwer's fixed point theorem. Next, we establish the uniqueness of the equilibrium, and then show the equilibrium satisfies a decaying dependence condition. Both uniqueness and the decaying dependence condition are crucial for our empirical analysis.\n3.2. Unique equilibrium. The insight for deriving the unique equilibrium comes from the linear spatial autoregressive model literature: Strong interactions among individuals can induce multiple equilibria in a simultaneous equation system. To obtain the uniqueness of the BNE, we need to restrict the interaction strength to be sufficiently mild.\nSimilar to the requirement that all roots lie outside of the unit circle in spatial autoregressive models, such a condition ensures weak dependence.\nIn our empirical application, each student takes a binary decision for college attendance.\nUnder the parametrization, assumption B can be rewritten as max {|\u03b1 10 \u2212 \u03b1 00 |, |\u03b1 11 \u2212 \u03b1 01 |} < 2,Note that \u03b1 00 \u2212 \u03b1 10 and \u03b1 11 \u2212 \u03b1 01 describe peer effects in social interactions, i.e., the principal that friends benefit from choosing the same action. Intuitively, \u03b1 00 \u2212 \u03b1 10 \u2265 0 and \u03b1 11 \u2212 \u03b1 01 \u2265 0 in our empirical context. Therefore, assumption B requires peer effects to be bounded above. Intuitively, this condition means that the college attendance decisions are mainly determined by students' own social and economic characteristics like GPA, household income etc., and their idiosyncratic preference shock on college attendance as well. If the average probabilities of friends' college attendance increase one percentage point, then the peer effects on her own college attendance probability is limited by \u03bb < 1 percentage."}, {"section_title": "6", "text": "Assumption B generally holds in a wide range of empirical studies of youth behaviors, including e.g. the substance use, church attendance, academic performance, academic cheating. See e.g., Gaviria and Raphael (2001) , Sacerdote (2001) , Kawaguchi (2004) , Carrell, Malmstrom, and West (2008) and Calv\u00f3-Armengol, Patacchini, and Zenou (2009) .\nIn these studies, the effects on a player's equilibrium choice probabilities from her friends' choices are significantly smaller than one. Although the NDD is a natural condition for peer effects in our empirical context, numerous prominent exceptions exist. For example, adolescent risky behaviors like substance (marijuana, alcohol, or tobacco) use are mainly driven by influence from friends. See e.g. Gaviria and Raphael (2001) and Kawaguchi (2004) . Another leading example is the butterfly effects widely used in e.g. fashion, financial crisis and gold rush, which characterize the sensitive dependence of players' choices on each other."}, {"section_title": "Lemma 1. Suppose assumptions A and B hold. Then, there always exists a unique BNE, regardless of the number of players n or the realization of the state variable S.", "text": "The proof of the uniqueness of the BNE relies on a contraction mapping argument. We can generalize such a result to the exponential family distribution for the private information \u01eb i . 6 To see this, note that assumption B ensures a quasi-Lipschitz condition hold for the best response function:\nThe best response function \u0393 i (s i , {\u03c3 j : j \u2208 F i }) defined by (10) in the appendix satisfies the following condition:\nwhere \u00b7 is the L 1 -norm. See the proof of Lemma 1. 11 3.3. Network Decaying Dependence (NDD). We begin with some notation. For any positive integer h \u2208 N, let N (i,h) be the subset of players defined inductively:\nBy definition, N (i,h) is the set of players on the social network within h distance of player i (including i herself). Moreover, let G (i,h) be the network graph that uses vertices and edges to describe all the connections among\nBy definition, S (i,h) describes the subnetwork centered around player i within her h-distance, i.e., how these players are connected to each other and what are the state variables at each node of the graph. Note that players' identities do not matter in the definition of S (i,h) .\nThe idea of NDD condition is to examine how player i's equilibrium choice probability \u03c3 * i (S; \u03b8) responds to counterfactual changes of some other player j's public state variable S j . Note that in equilibrium \u03c3 * i (S; \u03b8) depends on all the public information S, including S j no matter j is i's friend or not. In a \"stable\" equilibrium, intuitively such a dependence should decay with distance. Therefore, the statistical dependence between Y i and Y j also diminishes with i and j's network distance."}, {"section_title": "Definition 1 (Network Decaying Dependence, NDD). In the above network game, the equilibrium satisfies the NDD condition if there exists a deterministic sequence {\u03be", "text": "with \u03be h \u2193 0 as h \u2192 \u221e such that for any given size n of the network and positive integer h, we have\nwhere\nOur notion of NDD is related to the weak dependence in the time-series/spatial literature.\nIn particular, NDD implies the near-epoch dependence (NED) condition in e.g. Andrews (1988). 7 Different from the time-series/spatial statistical literature that assumes weak dependence of unobserved errors across observations, the dependence of players' decisions results from network-based strategic interactions. Conditional on S, players' decisions are mutually independent under assumption A.\nIn Definition 1, NDD requires the causal effects of S j on \u03c3 * i to be bounded above by \u03be \u03c1 (i,j) , where \u03c1(i, j) denotes the network distance from j to i. The game size n is treated as a state variable. With NDD (and assumption J to be introduced later), if we increase the network size by keeping adding players to the \"fringe\" of the network, then the equilibrium choice probability for any existing player will converge to a limit. 8 The next lemma shows that the equilibrium in our network game satisfies NDD under weak conditions."}, {"section_title": "Lemma 2. Suppose assumptions A and B hold. Then the BNE satisfies NDD with", "text": "With the NDD, the distribution of the observable variables P Y i |S can be nonparametrically estimated by using data from one single large network as the network size n goes to infinity. See Appendix D."}, {"section_title": "IDENTIFICATION", "text": "In this section, we discuss the identification of the structural parameter \u03b8. Following Hurwicz (1950) and Koopmans and Reiersol (1950) , the definition of identification in a structural model requires that there is a unique value of the structural parameter \u03b8 that generates the distribution of the observable variables\nBecause of the uniqueness of the equilibrium by Lemma 1, \u03c3\n. (5) Similar to Robinson (1988) , eq. (5) is essentially a partial linear model as shown in Lemma 3.\nEquation (5) suggests that \u03b2 k (\u00b7) and \u03b1 k (0, \u00b7, \u00b7) are not identified separately unless 0 \u2208 S Q . 9\nHence, we introduce the following normalization on \u03b1 k .\nNext, we assume a rank condition for identification. Let"}, {"section_title": "Assumption D (Rank Condition). Given the game size n, the matrix E[\u03d5", "text": "Assumption D is testable given that the conditional choice probabilities can be consistently estimated.\nThe next theorem establishes the identification of the model. For the sake of simplicity,"}, {"section_title": "Lemma 3. Fix arbitrary n. Suppose assumptions A to D hold. Then the structural parameter", "text": "Note that the identification result in Lemma 3 is established for each fixed n. For purpose of estimation and asymptotic analysis, however we need n goes to infinity. Hence, we replace the rank condition D by the following assumption."}, {"section_title": "Assumption E (Rank Condition for large n). The matrix", "text": "is invertible for all n sufficiently large and (x, q) \u2208 S XQ , i.e., for any (x, q) \u2208 S X i ,Q i ,\n9 To see this, consider the following specification:\nBy relaxing conditions in Lemma 3, the next theorem establishes identification of the model for all sufficiently large n."}, {"section_title": "Theorem 1. Suppose assumptions A to C and E hold. Then the structural parameter \u03b8 is identified", "text": "for all n sufficiently large.\nThe semiparametric identification in Theorem 1 helps the applied researcher to get a better sense of whether a fully parametric approach relies on ad hoc specification (of the payoff function) for identification or merely for simplicity of estimation. Analogous rank condition can be formulated in the fully parametric model that is used for our estimation."}, {"section_title": "Assumption F (Rank Condition for linear-index setup). The matrix E (W i W \u2032 i ) is invertible for all n sufficiently large.", "text": "Replace assumption E with F in Theorem 1, then the identification of \u03b8 k = (\u03b2 \u2032 k , \u03b1 \u2032 k ) \u2032 is given as follows: for sufficiently large n,\nClearly, variations in the aggregated friends' choice probabilities \u03c6 i\u2113 (S) identify the strategic coefficients \u03b1 k\u2113 ."}, {"section_title": "ESTIMATION", "text": "This section discusses the parametric estimation of the structural parameter \u03b8. In particular, we specify the payoff function by\nwhere\nwhere \u0398 \u03b2 and \u0398 \u03b1 are the parameter space for \u03b2 and \u03b1, respectively. Denote\nbe the data generated from the equilibrium of a single large network. For asymptotic analysis, we consider the network size n goes to infinity, since our empirical application involves a few large networks. For the data generating process, our asymptotics requires the probability distributions of G (i,h) with arbitrarily fixed h converges to the same limiting distribution for all i as n \u2192 \u221e, and the random graph G (i,h) is independent of G (j,h) given they don't contain any common element.\nWe now proceed to motivate our estimation procedure. First, note that under Assumption A, the actions chosen by the players are conditional i.i.d. given S. Thus, we have the\nLet\u03b8 MLE = argmax c\u2208\u0398L (c) be the MLE, which requires to solve {\u03c3 * ik (S; \u03b8) : i \u2208 N; k \u2208 A} to (3). In (7), we can verify that all the regularity conditions hold under additional weak conditions."}, {"section_title": "10", "text": "In practice, however,\u03b8 MLE is not computationally feasible when the network is large. This is because the equilibrium choice probability \u03c3 * ik (S; \u03b8) has no closed-form expression and its numerical solution is costly to obtain in the large simultaneous equation system.\nThe key to our approach is to approximate \u03c3 * ik (S; \u03b8) by some computable solution \u03c3 h ik (S; \u03b8) to be defined later, where h is an integer that depends on n such that the approximation error \u03c3 h ik (S; \u03b8) \u2212 \u03c3 * ik (S; \u03b8) 1 is negligible relative to the sampling error. Thus, we define our approximated loglikelihood function\nFurther, our estimator maximizes the approximated likelihood, i.e.,\u03b8 = argmax c\u2208\u0398Q (c).\nTo define \u03c3 h ik (S; \u03b8), we first define a Bayesian game of smaller size: let N (i,h) be the set of players and each player j \u2208 N (i,h) simultaneously makes a discrete choice Y j \u2208 A. Moreover, each player j in N (i,h) has the same state variables (X j , \u01eb j ) as the original network 10 For instance, Lemma 7 in the appendix ensures the differentiability of the objective function.\ngame, but player j's set of friends is restricted to be F j \u2229 N (i,h) . In other words, we artificially removes all the players outside of N (i,h) in the original game. Note that player i is located at the center of the subnetwork N (i,h) . Similarly, {\u03c3 h ik (S; \u03b8) : j \u2208 N (i,h) , k \u2208 A} solves:\nBy Lemma 1, there is a unique solution to (9). In this derived subnetwork game, player i is in the center of the subnetwork and her equilibrium choice probabilities profile is denoted\n. By Lemma 2, the approximation error \u03c3 * i (S; \u03b8) \u2212 \u03c3 h i (S; \u03b8) 1 can be bounded by 2\u03bb h+1 ."}, {"section_title": "11", "text": "To control for the approximation error, we choose h to increase with n at a proper rate.\n12 5.1. Asymptotic analysis. We now establish the consistency and limiting distribution for the proposed estimator. First, we make the following assumptions."}, {"section_title": "Assumption G. (i) The parameter space \u0398 is compact and the support S XQ is bounded; (ii) The", "text": "true parameter \u03b8 belongs to the interior of \u0398."}, {"section_title": "Assumption H. Let", "text": "Assumption I. Given any h \u2208 N, the probability distribution of G (i,h) converges to a limiting distribution P G,h as n \u2192 \u221e for all i; and\nMoreover, the payoff covariates X i are i.i.d. across players given the exogenous random network."}, {"section_title": "Assumption J.", "text": "There exists a positive constant c 0 \u2208 N, which does not depend on n, such that "}, {"section_title": "t] is the largest integer that is no larger than t.", "text": "11 To apply Lemma 2, let S i,h denote the state of the network derived from S by eliminating all the network connections outside of\n, since all players outside of N (i,h) have no strategic effects on players in N (i,h) . 12 Note that for h = 0, the proposed estimator becomes the classical multinomial logit estimator.\n. The latter is indexed by n because of the dependence of f i on n through S and \u03c3 * i ."}, {"section_title": "Assumption L. There exists a non-singular P \u00d7 P matrix J(\u03b8) such that J n (\u03b8) \u2192 J(\u03b8).", "text": "Assumption G-(i) ensures that choice probabilities are bounded away from zero so that the loglikelihood function is bounded. Unbounded regressors can be accommodated using high order moments restrictions (see e.g. Van de Geer, 1990) . Assumption G-(ii) is standard in the literature. Assumption H strengthens assumption B to hold for all the values in the parameter space \u0398.\nAssumptions I and J impose restrictions on the distribution of the state variables as well as the network connections. For the first half of Assumption I, note that for any given n and h, the probability distribution of G (i,h) is well defined, since the subgraph G (i,h) is a mapping to the space of graphs from the n \u00d7 n matrix with 0 \u2212 \u22121 entries. Note that the subgraph G (i,h) here refers to all subgraphs that are homomorphic to G (i,h) , 13 because players' identities do not matter in the definition of G (i,h) . Moreover, the first half of Assumption I also requires that G (i,h) should be i.i.d. across players who are at least 2h-step faraway from each other in the network. This condition generally holds in the random graph literature, since conditional on G (i,h) and G (j,h) do not overlap, the graph structure of G (i,h) does not provide additional information on how G (j,h) looks like. Moreover, for the second half of Assumption I, the (conditional on the network connections) independence of X i is a strong assumption. In practice, positive statistic dependence across friends' demographic variables (e.g. age, education, race, etc.) has been emphasized in the sociology literature (see e.g. Easley and Kleinberg, 2010) , which is the so-called \"homophily\" phenomena. For our asymptotic results to be established, this assumption could be relaxed to allow for some degree of dependence at the expense of longer proofs.\n14 13 In Graph theory, the notion of graph homomorphism is defined as follows: For a graph G, let V(G) and E(G) be the set of vertices and the set of edges of G, respectively. Let G and H be two graphs. A mapping \u03d5 : V(G) \u2192 V(H) is called homomorphism if \u03d5 preserves edge adjacency, i.e., for every edge {v, w} \u2208 E(G), the edge {\u03d5(v), \u03d5(w)} belongs to E(H). 14 For instance, as is suggested by spatial autoregressive models, one could assume that X \u2261 (X \u2032 1 , \u00b7 \u00b7 \u00b7 , X \u2032 n ) \u2032 takes a simultaneous autoregressive dependence structure:\nAssumption J imposes restrictions on the number of best friends that a single individuals could have. Note that the upper bound c 0 does not depend on the network size n. This condition is crucial for the \u221a n-asymptotics of the proposed estimator when the data come from one single large network game: By assumption J and the NDD condition, we can limit the dependence among all the observations. Similar assumptions can also be found in, e.g., Morris (2000) for the contagion analysis in local-interaction games.\nIt is worth pointing out that Assumption J is not imposed in most of the recent empirical network formation models. Such a restriction, however, can be easily accommodated in recent network formation models, e.g., Christakis, Fowler, Imbens, and Kalyanaraman (2010) and Mele (2010) . On the theoretic side of network formation, e.g., Jackson and Wolinsky (1996) introduce a cost for players to maintain a direct friendship link, which similarly limits the number of direct links each individual could have. In our empirical application, each student was allowed to nominate at most ten best friends. Such a restriction is reasonable in light of capacity constraints (e.g. time and/or effort) for students to make and keep their best-friends. Therefore, a network formation model using the same dataset should impose such a restriction; otherwise the model cannot rationalize the data.\nAssumption K-(i) is intuitive for the approximation of \u03c3 * i (S; \u03b8). Moreover, strengthening (i), assumption K-(ii) ensures the approximation error is negligible in the limiting distribution of the estimator.\nIn assumption L, J n (\u03b8) is the Fisher information matrix of the n-player game. Assumption L requires that the Fisher information matrix has a non-degenerate limit when the network size goes to infinity. Note that the convergence of J n (\u03b8) is implied by Lemma 2 where \u03a8 is an n \u00d7 n weight matrix parametrized by a q-dimensional vector \u03b3 0 such that diagonal elements of \u03a8 are zeros and I n \u2212 \u03a8 is non-singular. Moreover, \u03bd \u2208 R n is a vector of i.i.d. errors that are independent of S and (\u01eb 1 , \u00b7 \u00b7 \u00b7 , \u01eb n ) \u2032 . Our asymptotic results established in Theorems 2 and 3 still hold as long as for each k \u2208 A,\nSuch a high level condition can be satisfied if the weight matrix is modeled as:\nwhere \u03c8 is a decreasing function that decays sufficiently fast (i.e., subjects to exponential decay). Moreover, it is also possible to allow the dependence between X j and X \u2113 , i.e., \u03a8 j\u2113 , to depend not only on the network distance between j and \u2113, but also on the distance between j (or \u2113) and other players that connect (directly or indirectly) to both of them. See e.g. Pinkse, Slade, and Brett (2002) . and assumption I, since the distribution S (i,h) convergence to a limit for all i as n \u2192 \u221e.\nHence, in assumption L, the essential restriction is the non-degeneracy of the limit."}, {"section_title": "Theorem 2. Suppose that assumptions A and F, G-(i), I, J, and K-", "text": "Given the consistency of\u03b8, we now establish its limiting distribution, which is shown to be identical to\u03b8 MLE under addition conditions."}, {"section_title": "Theorem 3. Suppose that assumptions A and F to L hold. Then", "text": "Note that the infeasible likelihood function (7) is indeed what ultimately gives the information equality in Theorem 3. Furthermore, the limiting Fisher information matrix J(\u03b8)\ncan be consistently estimated by\nwhere\nRemark. It is a generic aspect of our asymptotic analysis that the size of the network goes to infinity, but the maximum number of friends each player should remain fixed (i.e. assumption J). Therefore, the collection of state variables {S (i,h) : i \u2264 n} becomes an m-dependent sequence, where m \u2264 c h+1 0 , which is crucial for the \u221a n-consistency of the estimator in the proof of Theorem 3. This aspect rules out the \"Small-World phenomenon\" (see e.g. Watts and Strogatz, 1998) , often referred to as six degrees of separation (see e.g. Guare, 1990) . It should be noted that whether the network is a \"small-world\" is an empirical question that can be verified from the data. In a small-world network, the asymptotic analysis should allow the (average) number of friends to increase with the size of the network."}, {"section_title": "15", "text": "It seems to be an intriguing challenge to consider Small-World asymptotics.\nIt is worth pointing out that it is possible to relax assumption J to accommodate some \"intermediate\" case of the network structure at the expense of longer proofs. For instance, consider a network where the maximum number of friends is not bounded from above, but the distribution of Q i is asymptotically stable (as the network size n goes to infinity) with finite mean and variance. Hence, there can be a few, but significant number of nodes with a lot of connections, which however does not render the network to a \"Small-World\".\nIn the following Monte Carlo experiments, we consider such a specification to examine the finite sample performance of our approximated maximum likelihood estimator."}, {"section_title": "Monte Carlo Experiments. This section uses Monte Carlo to illustrate the finite sam-", "text": "ple performance of the proposed estimator. In particular, we consider a binary game with\n, where \u03b1 \u2208 R and X i \u2208 R 2 .\nMoreover, we consider two representative networks: First, we consider the Circle network specified in Salop (1979) , where n players are equally spaced in a circle and each player has two friends. In the circle network, Q i = 2 for all players and the friendship relation between each pair of players is also symmetric. The second network is a random network. For any i = j, we use a random variable \u2113 i,j \u2208 {0, 1, 2, 3} to denote \"no relationship\", \"i is j's friend, but not vice versa\", \"j is i's friend, but not vice versa\" and \"mutual friendship\", respectively. For i = j, \u2113 i,j is drawn independently from the prob-\nn . Moreover, set \u2113 ii = 0 for all i. By definition, Q i = \u2211 n j=1 1( \u2113 ij \u2208 {2, 4}), which conforms to a Binomial Distribution B(n, 3/n). As n goes to infinity, the mean of Q i remains constant and conforms to the Poisson(3) distribution asymptotically.\nMoreover, we take X i1 \u223c U(\u22120.5, 0.5), X i2 \u223c N(0, 1) and X i1 \u22a5X i2 . The results for the other distributional specifications of X are qualitatively similar. Further, we set \u03b2 = (1, 1) \u2032 which are invariant across all the experiments. According to assumption H, we choose \u0398 \u03b1 = [\u22121.99, 1.99] and set the true parameter \u03b1 = 0, 0.8, and 1.6, respectively. In particular, for \u03b1 = 0, our setting is equivalent to the classical Logit model.\nWe have performed experiments with the number of players n = 500, n = 1000 and n = 2000. In each design, we first compute the unique BNE given the underlying parameter value, i.e., we solve the equilibrium by finding a fixed point to (3). With the (numerical) solution in hand, we are able to simulate the equilibrium decision made by each player.\nRegarding estimation, it is crucial to choose the parameter h \u2208 N according to the sample size n. Following assumption K, we set h = [ \u221a n/10], i.e. h = 2, 3 and 4 with respect 21 to the three choices of sample size. It is worth pointing out that the computation time increases with h in a non-linear pattern. For fixed n, we also investigate the performance of the proposed estimator under different choices of h. The results for different sample sizes are qualitatively similar and therefore we only report results for n = 1000. In addition, we perform 500 replications to approximate the finite sample distribution of our estimator.\nTables 2 and 3 report the finite sample performance of the proposed estimator under the different settings. The numbers in parentheses are the standard deviations. The estimator is consistent for all these designs and the standard deviation diminishes at the \u221a n-rate as we increase the sample size. In Table 4 , we further investigate how the choice of h affects the performance of\u03b8. For n = 1000, it shows that the approximation behaves well by using h \u2265 3 and additional gains of accuracy are minor from choosing larger h. 5.3. Empirical results for peer effects on college attendance. We now apply our method to estimate peer effects on high school students' college attendance decisions. The specification of the payoff function is the same as the one used in our Monte Carlo experiments. *Note that h = 2, 3, 4 for n = 500, 1000 and 2000, respectively. Table 5 presents our estimation results. We also provide results using the pseudo MLE for comparison. The difference reflects the bias due to the misspecification of social interactions. Note that AMLE(h) refers to the approximated MLE with the parameter value h and the pseudo MLE is equivalent to AMLE(0). From Table 5 , the approximation of theequilibrium is sufficiently good for h \u2265 2. So we can use AMLE(2) as our estimates. It is worth pointing out that the estimates of peer effects satisfy assumption B.\nThe second column of Table 5 contains the corresponding estimates of the pseudo MLE, which has been typically adopted in the empirical analysis on college attendance. Given the pseudo MLE estimates, the most striking difference of our estimates (i.e. AMLE(2) in the fourth column) is that the peer effects coefficient is significant at the 5% level, while the pseudo MLE implicitly sets it to be zero. Therefore, the ignorance of peer effects in the empirical analysis on college attendance results in biased estimates, which can be corrected by increasing h from 0 to 2.\nIn Table 5 , most of coefficients estimates are significant at the 10% significance level.\nRegarding race, the coefficients of American Indian, Asian and Black are insignificant, this is simply due to the fact that all these three categories have only a few observations in the sample. Moreover, due to missing data issue on parents' education, one would expect noisy estimates for the parents' education coefficients.\nOur pseudo MLE estimates are qualitatively similar to those empirical results in Light and Strayer Our pseudo MLE results are also consistent with other early empirical evidence on college attendance. See e.g. Fuller, Manski, and Wise (1982) ."}, {"section_title": "16", "text": "Peer effects estimates provided by AMLE(2) are related to those empirical results in Calv\u00f3-Armengol, Patacchini, and Zenou (2009), who also use the Add Health data to study peer effects on school performance index. In particular, they specify a linear equation system for network-based social interactions and obtain statistically significant peer effects estimates of similar magnitude (i.e., 0.5505 with a standard error 0.1247). Moreover, 16 Fuller, Manski, and Wise (1982) use the 1972 National Longitudinal Study of the High School Class (NLSS72)."}, {"section_title": "24", "text": "Gaviria and Raphael (2001) and Kawaguchi (2004) use the National Education Longitudinal Study (NELS) dataset and the National Longitudinal Survey Youth 97 (NLSY97) dataset, respectively, to study peer effects on youth behaviors of high school students, e.g., drug use, alcohol drinking, cigarette smoking, church attendance and dropping out. Their empirical results also provide evidence for significant peer effects of similar magnitude to our estimates. For example, consider a typical student in our sample whose covariates take the mean values in Table 1 . Suppose all her friends shift their college attendance probabilities together from 0% to 10%, then her college attendance probability would increase about 1.52% (namely, from 37.93% to 39.45%). Similarly, if all her friends' college attendance probabilities shift jointly from 0% to 50%, then it would yield an increase of 11.83%. An important extension of the benchmark model is to allow for interdependence between a pair of friends' private information. Individuals tend to bond with similar others as their friends. In sociology, such a phenomena is called \"homophily\"; see e.g. Easley and Kleinberg (2010) . Homophily leads to friendship between people with similar characteristics (age, education, race, etc.) and with positively correlated types. The former can be directly 17 In a study of tenth graders' substance use, Gaviria and Raphael (2001) 's estimates imply, for example, that moving a typical teenager from a school where none of his classmates use drugs to one where half use drugs would increase the probability by approximately 13%. Similar experiments would yield increases in the corresponding probabilities of 9% for alcohol use, 8% for cigarette smoking, 11% for church attendance, and 8% for dropping out of school. Moreover, Kawaguchi (2004) show that if a teenager's perception of the percentage of his/her peers who use a substance (i.e. marijuana, alcohol, or tobacco) increases by 10%, the probability that he/she will use the substance increases from 1.4% to 2.6%. observed from the data. To identify the latter is more challenging to the researcher. In a discrete game with a (small) fixed number of players, Liu, Vuong, and Xu (2012) establish the nonparametric identification of homophily in a context of discrete game. Identification and estimation of homophily in a large network game is an important extension.\nAllowing for possible endogeneity of the network is another important research question in the study of large-network social interactions. Being popular in a hight school network might be associated with a possible high draw of payoff shocks for college attendance. Part of the problem could be addressed by taking into account the networkformation in the first stage, see e.g. Christakis, Fowler, Imbens, and Kalyanaraman (2010) , Mele (2010) , Badev (2013 ) Leung (2014 and Menzel (2015b) . In this regards, our identification and estimation results are useful for the second stage analysis of social interactions in the subgame. In a large network game, however, difficulties arise when each player has a small opportunity set, relative to the large network size, of players to meet with, and more importantly, such opportunity sets are not observed in the dataset. For the majority of pairs of distinct individuals, it is unclear whether an unconnected link is due to the lack of opportunity, or players' unfavorable desire for such a connection.\nAs a matter of fact, our results go well beyond the local interaction studied here as they can be generalized to more general social interaction games. For instance, one can consider that each player interacts directly with her friends, friends of friends, etc. In particular, the payoff function can be generalized as follows: for choosing an action k \u2208 A,\nwhere d ij is the network distance from j to i. By such an extension, the interaction term For any choice probability profile (\u03c3 1 , \u00b7 \u00b7 \u00b7 , \u03c3 n ), where \u03c3 i is a (K+1)-choice probability distributions, let\nLet further\nwhere {\u03c3 j : j \u2208 F i } is a vector between {\u03c3 * j : j \u2208 F i } and {\u03c3 \u2020 j : j \u2208 F i }. By the definition of \u0393 ik , we have\nwhere the last step is because:\nTherefore, (\u2113, x, q) | and the last step comes from the fact\nwhich leads to contradiction by \u03bb < 1 under assumption B.\nA.2. Proof of Lemma 2. This lemma is shown by mathematical induction. Fix arbitrarily\nBy a similar argument to the proof of Lemma 1, we have\nwhere the last inequality comes from the triangular inequality. Because for all j \u2208 N (i,h\u22121) , any friend j \u2032 of j belongs to\nHence, for any q \u2264 h, we have max\nA.3. Proof of Lemma 3. First, by assumption C, (5) can be rewritten as\nWe further multiply by \u03d5 i (S) on both sides and obtain\nMoreover, we take conditional expectation on both sides given X i = x and Q i = q:\nfrom which we invert the coefficients vector (\nbe an open ball centered at \u03b8 with \u01eb radius in the space \u0398. 34 n \u2265 2 be located on a circle network as follows: First we randomly pick a location for player 1 on the circle. Next, players 2 and 3 are on 1's left and right, respectively; then players 4 and 5 are further located on 2's left and 3's right, respectively; so on and so forth. Thus we obtain a circle network with n = +\u221e in the limit. Given the network, state variables X i are i.i.d. across all the players. Similarly to the probability theory in time series, the probability distribution of the sequence {S n : n \u2265 2} is well defined.\nFor simplicity, let A = {0, 1} and X i \u2208 R. W.o.l.g., we consider the estimation of\nTo begin with, we first consider the case where X i is binary, i.e., X i \u2208 {0, 1}. It is straightforward that our arguments can be generalized to the case of multiple valued X i 's. The continuous X i 's case will be discussed later. Intuitively, a nonparametric estimatorP(Y 1 = 1|S n = s n ) can be defined as follows:\nwhere j(\u2113) denotes the |\u2113|-th left vertex of j if \u2113 < 0; otherwise it refers to the |\u2113|-th right vertex of j. Note that because of the circle network, G (j,h) = g (1,h) a.s.. Then, the term 1 G (j,h) = g (1,h) is redundant in the above expression. As is shown in the proof of the next lemma, the above estimator is essentially a kernel estimator with a specific choice of bandwidth and a uniform kernel.\nIn the above estimator, It is crucial to choose h for its consistency, which carries a bias and variance tradeoff: Intuitively, h \u2208 N needs to increase properly with n such that P(Y 1 ="}, {"section_title": "1|S", "text": "(1,h) ) converges to P(Y 1 = 1|S n ) (note that the approximation error is bounded by 2\u03be h+1 where |\u03be| < 1). On the other hand, we require the number of observations G (j,h) = g (1,h) goes to infinity with the network size, so that the variance of the estimator decreases to zero as n \u2192 \u221e.\nW.l.o.g., suppose P(X i = 0) \u2264 1/2. Moreover, let p h \u2261 P(S (1,h) = s (1,h) ) = \u220f 2h+1 j=1 P(X j = x j ). By definition, P(X i = 0) 2h+1 \u2264 p h \u2264 P(X i = 1) 2h+1 . Therefore, we have p h \u2192 0 as h \u2192 \u221e. Moreover, by Slutsky's theorem, we establish the consistency of the proposed estimator.\nIn Lemma 8, it is required that h should increase to infinity with n, but sufficiently slow. In particular, the conditions imply p h \u2192 0 and np h \u2192 \u221e as n \u2192 \u221e. This suggests that the term p h plays the same role as the bandwidth in kernel estimation. In addition, because of the dependence between S (j,h) and S (i,h) for \u03c1(i, j) \u2264 h, we require np h increase to infinity faster than h. Suppose one chooses h = [h 0 \u00d7 ln n] for some constant h 0 > 0. Then, p h \u221d n \u2212\u03ba where \u03ba > 0 that is determined by h 0 and P(X i = 0). Then the restrictions on h in Lemma 8\nare satisfied if \u03ba is sufficiently small. 43\nSuppose X i is continuously distributed. Let f X be the pdf of X i . For simplicity, We assume 0 < inf x\u2208R f X (x) < sup x\u2208R f X (x) < \u221e. As usual, additional assumptions on the structural parameters are needed to ensure P(Y 1 = 1|S n = s n ) is R-th (R \u2265 2) order continuously differentiable in each argument of S n . Moreover, a nonparametric estimator is defined b\u0177\nwhere K and b \u2113 for \u2113 = 1, \u00b7 \u00b7 \u00b7 , 2h + 1 are R-th order kernel function and bandwidth, respectively. "}]