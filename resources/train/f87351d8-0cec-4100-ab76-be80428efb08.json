[{"section_title": "Abstract", "text": "ABSTRACT The tremendous success of machine learning algorithms at image recognition tasks in recent years intersects with a time of dramatically increased use of electronic medical records and diagnostic imaging. This review introduces the machine learning algorithms as applied to medical image analysis, focusing on convolutional neural networks, and emphasizing clinical aspects of the field. The advantage of machine learning in an era of medical big data is that significant hierarchal relationships within the data can be discovered algorithmically without laborious hand-crafting of features. We cover key research areas and applications of medical image classification, localization, detection, segmentation, and registration. We conclude by discussing research obstacles, emerging trends, and possible future directions.\nINDEX TERMS Convolutional neural networks, medical image analysis, machine learning, deep learning."}, {"section_title": "I. INTRODUCTION", "text": "Machine learning algorithms have the potential to be invested deeply in all fields of medicine, from drug discovery to clinical decision making, significantly altering the way medicine is practiced. The success of machine learning algorithms at computer vision tasks in recent years comes at an opportune time when medical records are increasingly digitalized. The use of electronic health records (EHR) quadrupled from 11.8% to 39.6% amongst office-based physicians in the US from 2007 to 2012 [1] . Medical images are an integral part of a patient's EHR and are currently analyzed by human radiologists, who are limited by speed, fatigue, and experience. It takes years and great financial cost to train a qualified radiologist, and some health-care systems outsource radiology reporting to lower-cost countries such as India via tele-radiology. A delayed or erroneous diagnosis causes harm to the patient. Therefore, it is ideal for medical image analysis to be carried out by an automated, accurate and efficient machine learning algorithm.\nMedical image analysis is an active field of research for machine learning, partly because the data is relatively structured and labelled, and it is likely that this will be the area where patients first interact with functioning, practical artificial in-telligence systems. This is significant for two reasons. Firstly, in terms of actual patient metrics, medical image analysis is a litmus test as to whether artificial intelligence systems will actually improve patient outcomes and survival. Secondly, it provides a testbed for human-AI interaction, of how receptive patients will be towards healthaltering choices being made, or assisted by a non-human actor."}, {"section_title": "A. TYPES OF MEDICAL IMAGING", "text": "There is a myriad of imaging modalities, and the frequency of their use is increasing. Smith-Bindman et al. [2] looked at imaging use from 1996 to 2010 across six large integrated healthcare systems in the United States, involving 30.9 million imaging examinations. The authors found that over the study period, CT, MRI and PET usage increased 7.8%, 10% and 57% respectively.\nModalities of digital medical images include ultrasound (US), X-ray, computed tomography (CT) scans and magnetic-resonance imaging (MRI) scans, positron emission tomography (PET) scans, retinal photography, histology slides, and dermoscopy images. Fig. 1 . shows some example medical images. Some of these modalities examine multiple organs (such as CT, MRI) while others are organ specific (retinal photography, dermoscopy). The amount of data generated from each study also varies. A histology slide is an image file of a few megabytes while a single MRI may be a few hundred megabytes. This has technical implications on the way the data is pre-processed, and on the design of visual cortices are thought to process visual information and recognize objects [7] . CNNs may have their origins in the Neocognitron concept proposed by Fukushima [8] in 1982, but it was Lecun et al. [9] who formalized CNNs and used the error backpropagation described by Rumelhart et al. [10] , to successfully perform the automatic recognition of handwritten digits. The widespread use of CNNs in image recognition came about after Krizhevsky et al. [11] won the 2012 Imagenet Large Scale Visual Recognition Challenge (ILSVRC) with a CNN that had a 15% error rate. The runner up had almost double the error rate at 26%. Krizhevsky et al. introduced significant concepts that are used in CNNs today, including the use of Rectified Linear Unit (RELU) functions in CNNs, data augmentation and dropout. Since then, CNNs have featured as the most used architecture in every ILSVRC competition, surpassing human performance at recognizing images in 2015. Correspondingly, there has been a dramatic increase in the number of research papers published on CNN architecture and applications, such that CNNs have become the dominant architecture in medical image analysis."}, {"section_title": "C. CONVOLUTIONAL NEURAL NETWORKS", "text": "Both the 2-dimensional and 3-dimensional structures of an organ being studied are crucial in order to identify what is normal versus abnormal. By maintaining these local spatial relationships, CNNs are well-suited to perform image recognition tasks. CNNs have been put to work in many ways, including image classification, localization, detection, segmentation and registration. CNNs are the most popular machine learning algorithm in image recognition and visual learning tasks, due to its unique characteristic of preserving local image relations, while performing dimensionality reduction. This captures important feature relationships in an image (such as how pixels on an edge join to form a line), and reduces the number of parameters the algorithm has to compute, increasing computational efficiency. CNNs are able to take as inputs and process both 2-dimensional images, as well as 3-dimensional images with minor modifications. This is a useful advantage in designing a system for hospital use, as some modalities like X-rays are 2-dimensional while others like CT or MRI scans are 3-dimensional volumes.\nCNNs and Recurrent Neural Networks (RNNs) are examples of supervised machine learning algorithms, which require significant amounts of training data. Unsupervised learning algorithms have also been studied for use in medical image analysis. These include Autoencoders, Restricted Boltzmann Machines (RBMs), Deep Belief Networks (DBNs), and Generative Adversarial Networks (GANs)."}, {"section_title": "D. RESOURCES", "text": "Four reviews are highly recommended; Litjens et al. [4] provides a thorough list of papers published in the field, Shen et al. [12] and Suzuki [13] summarize many of the advances, while Greenspan et al. [14] gives a succinct overview of recent important papers. These review articles and a list of relevant books can be found in Table 1 . This was collated by searching for books in the Elsevier, IEEE Xplore and Springer databases. We generated a list of the 200 most highly-cited papers from Google Scholar, using the query terms 'deep learning' and 'medical image analysis' in October 2017 using citation software [15] . These were manually vetted to ensure that the returned results were relevant and significant in the field. We limited the papers to those published or prepublished in the last 3 years, although older significant papers are mentioned in this article. Table 2 shows the top 20 papers from this list, and the full list of 200 papers can be found in the Supplementary Data as Table S1 .\nWhere available, the datasets used by the authors of various papers in this article are described. The website Grand Challenges in Biomedical Image Analysis (https://grand-challenge.org/all_challenges) aggregates and links to numerous competitions and their respective image datasets. The Cancer Imaging Archive [16] contains numerous datasets across many organ systems, and the National Institute of Health recently released a tranche of over 100,000 anonymized chest x-rays for research use [17] called ''ChestX-ray 8''. Of note, Nifty-Net (www.niftynet.io) [18] is a useful open source framework that contains many machine learning algorithms, released under an Apache License. It allows researchers to explore CNNs and published machine algorithms, such as V-net, U-net, DeepMedic [19] - [21] , and to share pretrained models.\nThe aim of this report is to provide an overview on the state of machine learning algorithms as applied to medical imaging, with an emphasis on which aspects are most useful to the clinician, as some of the authors are practicing surgeons and radiologists. It is hoped that this perspective aids researchers in moving from being trapped in the local minima of speculative research, to designing implementable systems that will impact medical science and patient care.\nSection II describes various machine learning architectures used in medical image analysis, with an emphasis on CNNs. Machine learning is broadly classified into Supervised, Unsupervised, Semi-supervised and Reinforcement learning methods; it is the first two which are currently most applicable to image analysis. Section III dives into different application areas. Section IV concludes with obstacles that the field of medical image analysis faces, and some of the future possible directions. VOLUME 6, 2018 "}, {"section_title": "II. MACHINE LEARNING ARCHITECTURES A. SUPERVISED LEARNING MODELS 1) CONVOLUTIONAL NEURAL NETWORKS", "text": "Currently, CNNs are the most researched machine learning algorithms in medical image analysis [4] . The reason for this is that CNNs preserve spatial relationships when filtering input images. As mentioned, spatial relationships are of crucial importance in radiology, for example, in how the edge of a bone joins with muscle, or where normal lung tissue interfaces with cancerous tissue. As shown in Fig. 2 ., a CNN takes an input image of raw pixels, and transforms it via Convolutional Layers, Rectified Linear Unit (RELU) Layers and Pooling Layers. This feeds into a final Fully Connected Layer which assigns class scores or probabilities, thus classifying the input into the class with the highest probability."}, {"section_title": "a: CONVOLUTION LAYER", "text": "A convolution is defined as an operation on two functions. In image analysis, one function consists of input values (e.g. pixel values) at a position in the image, and the second function is a filter (or kernel); each can be represented as array of numbers. Computing the dot product between the two functions gives an output. The filter is then shifted to the next position in the image as defined by the stride length. The computation is repeated until the entire image is covered, producing a feature (or activation) map. This is a map of where the filter is strongly activated and 'sees' a feature such as a straight line, a dot, or a curved edge. If a photograph of a face was fed into a CNN, initially low-level features such as lines and edges are discovered by the filters. These build up to progressively higher features in subsequent layers, such as a nose, eye or ear, as the feature maps become inputs for the next layer in the CNN architecture.\nConvolution exploits three ideas intrinsic to perform com-putationally efficient machine learning: sparse connections, parameter sharing (or weights sharing) and equivariant (or invariant) representation [22] . Unlike some neural networks where every input neuron is connected to every output neuron in the subsequent layer, CNN neurons have sparse connections, meaning that only some inputs are connected to the next layer. By having a small, local receptive field (i.e., the area covered by the filter per stride), meaningful features can be gradually learnt, and the number of weights to be calculated can be drastically reduced, increasing the algorithm's efficiency. In using each filter with its fixed weights across different positions of the entire image, CNNs reduce memory storage requirements. This is known as parameter sharing. This is in contrast to a fully connected neural network where the weights between layers are more numerous, used once and then discarded. Parameter sharing results in the quality of equivariant representation to arise. This means that input translations result in a corresponding feature map translation. The convolution operation is defined by the * symbol. An output (or feature map) s(t) is defined below when input I (t) is convolved with a filter or kernel K (a).\nIf t can only take integer values, the discretized convolution is given by:\nThe above assumes a one-dimensional convolutional opera-tion. A two dimension convolution operation with input I (m, n) and a kernel K (a, b) is defined as:\nBy the commutative law, the kernel is flipped and the above is equivalent to:\nNeural networks implement the cross-correlation function, which is the same as convolution but without flipping the kernel."}, {"section_title": "b: RECTIFIED LINEAR UNIT (RELU) LAYER", "text": "The RELU layer is an activation function that sets negative input values to zero. This simplifies and accelerates calculations and training, and helps to avoid the vanishing gradient problem. Mathematically it is defined as:\nwhere x is the input to the neuron. Other activation functions include the sigmoid, tanh, leaky RELUs, Randomized RELUs and parametric RELUs."}, {"section_title": "c: POOLING LAYER", "text": "The Pooling layer is inserted between the Convolution and RELU layers to reduce the number of parameters to be calculated, as well as the size of the image (width and height, but not depth). Max-pooling is most commonly used; other pooling layers include Average pooling and L2-normalization pooling. Max-pooling simply takes the largest input value within a filter and discards the other values; effectively it summarizes the strongest activations over a neighborhood. The rationale is that the relative location of a strongly activated feature to another is more important than its exact location."}, {"section_title": "d: FULLY CONNECTED LAYER", "text": "The final layer in a CNN is the Fully Connected Layer, meaning that every neuron in the preceding layer is connected to every neuron in the Fully Connected Layer. Like the convolution, RELU and pooling layers, there can be 1 or more fully connected layers depending on the level of feature abstraction desired. This layer takes the output from the preceding layer (Convolutional, RELU or Pooling) as its input, and computes a probability score for classification into the different available classes. In essence, this layer looks at the combination of the most strongly activated features that would indicate the image belongs to a particular class. For example, on histology glass slides, cancer cells have a high DNA to cytoplasm ratio compared to normal cells. If features of DNA were strongly detected from the preceding layer, the CNN would be more likely to predict the presence of cancer cells. Standard neural network training methods with backpropagation [10] and stochastic gradient descent help the CNN learn important associations from training images."}, {"section_title": "2) TRANSFER LEARNING WITH CNNs", "text": "Unlike general natural image recognition tasks, medical image analysis lacks large labelled training datasets. As a comparison, the Kaggle 2017 Data Science Bowl to detect tumors in CT lung scans had a dataset of approximately 2000 patient scans, while ILSVRC 2017 had over 1 million images across 1000 object classes [23] . Transfer learning involves training a machine learning algorithm on a partiallyrelated or un-related dataset, as well as a labelled training dataset, to circumvent the obstacle of insufficient training data. Essentially the weights learned or pre-trained during the training of a CNN on one (partiallyrelated or un-related) dataset are transferred to a second CNN, which is then trained on labelled medical data using these weights. The weights can be applied to some or all layers of the CNN, except the last fully connected layer. Although transfer learning techniques are commonly used in medical image analysis in conjunctions VOLUME 6, 2018 with CNNs, it is worth noting that they can be applied to other general machine learning algorithms as well. Shin et al. [24] explored the impact of CNN architectures and transfer learning on detecting the presence of enlarged thoraco-abdominal lymph nodes, and in classifying interstitial lung disease on CT scans, and found transfer learning to be beneficial, despite natural images being disparate from medical images. Ravishankar et al. [25] looked at the task of automatically localizing the presence of a kidney on ultrasound images. Using a CNN pre-trained on Imagenet, they showed that the greater the degree of transfer learning, the better the CNN performed. Tajbakhsh et al. [26] studied the effectiveness of transfer learning in 4 different applications across 3 imaging modalities: polyp detection on colonoscopy videos, colonoscopy video frame classification, pulmonary embolus detection on CT pulmonary angiograms, and segmentation of the layers of the walls of the carotid artery on ultrasound scans. They transferred pre-trained weights from Krizhevsky et al. [11] to either a few ('shallow tuning') or many ('deep tuning') layers in a CNN. Overall, they found that transfer learning more layers improved the CNN performance, compared to training a CNN from scratch. In contrast to many computer vision tasks where shallow tuning of the last few layers is adequate, medical image analysis requires a deep tuning of more layers. They also noted that the number of optimal layers trained varied between different applications."}, {"section_title": "3) RECURRENT NEURAL NETWORKS (RNNs)", "text": "RNNs have traditionally been used in analyzing sequential data, such as the words in a sentence. Due to their ability to generate text [27] , RNNs have been employed in text analysis tasks, like machine translation, speech recognition, language modelling, text prediction and image caption generation [28] . In a plain RNN, the output of a layer is added to the next input, and this is fed back into the layer, resulting in a capacity for contextual 'memory'. To avoid vanishing gradient problems with backpropagation through time, plain RNNs have evolved into Long Short Term Memory (LSTM) networks and GatedRecurrent Units (GRUs). These are modifications of RNNs to hold long term dependencies, and to discard or forget some of the accumulated information.\nIn the medical image analysis space, RNNs have been used mainly in segmentation. Chen et al. [29] combined CNN and RNN to segment neuronal and fungal structures from three-dimensional electron microscope images. Using a multidimensional LSTM, Stollenga et al. [30] segmented both three-dimensional electron microscope images of neurons as well as MRI brain scans. Shin et al. [31] describe annotating X-ray images with captions trained on radiology reports."}, {"section_title": "B. UNSUPERVISED LEARNING MODELS 1) AUTOENCODERS", "text": "Autoencoders learn feature representations of input data (called codings) in an unsupervised manner without labelled data. It is a model that takes input data, gleans codings from this, and then uses these codings to reconstruct output data (called reconstructions). The rationale behind autoencoders is that the output data must be as similar to the input data as possible, i.e., autoencoder models contain a cost function which penalizes the model when inputs and outputs are different. Autoencoders have several useful features. Firstly, they are employed as feature detectors that can learn codings in an unsupervised manner, without training labels. Secondly, they reduce the model dimensionality and complexity as codings often exist in a lower dimension. Thirdly, by having to reconstruct outputs, autoencoders generate new data that is similar to the input training data. These features are an advantage in medical image analysis, where labelled training data is scarce. Various network architectures are depicted in Fig. 3 .\nThe unique architectural feature of autoencoders is that the number of neurons in the input and output layers must be equal. Autoencoders have hidden layers that can be stacked, like CNNs. Stacked autoencoders (SAEs) have a typically symmetrical architecture, with a line of reflection through the middle = hidden layer. Some techniques for optimizing autoencoder performance include tying weights of the decoder layer to the encoder layer, training different subsets of autoen-coders separately before stacking them together, and transfer learning [32] . Simply stacking more layers may not aid in the accuracy of the model, as the model may end up performing the trivial task of simply copying the input to the output. That is, the model performs well during training but it has not learned any useful feature representations that allow the model to be generalized and applied outside of the training data.\nTo force models to learn useful representations, constraints need to be added. One example is the Denoising Autoencoder reported by Vincent et al. [32] , where Gaussian noise is added to the early hidden layers. Applying dropout i.e., randomly turning off some of the neurons in the early hidden layers, accomplishes the same goal, by forcing the model to learn useful codings to generate back the noisefree inputs in the output layer. A second example are Sparse Autoencoders [33] , whereby a defined proportion of the neurons in the hidden layers are deactivated or set to zero. This is accomplished by having a cost function that penalizes the model when there are active neurons beyond a defined threshold. The rationale behind this, is as Bengio states, for a given observation, only a small fraction of the possible factors are relevant, meaning that much of the features extracted from the data could be represented by being set to zero [34] . Kallenberg et al. [35] combined unsupervised convolution layers trained as autoencoders, and supervised layers to classify mammograms into different densities and textures. The texture classifica-tion task was used to impute if a mammogram was normal or depicted breast cancer. They used 2700 mammograms from the Dutch Breast Cancer Screening Program, the Dutch Breast Cancer Screening dataset, and the Mayo Mammography Health Study. Interestingly, they used a sparse autoencoder to learn the parameters of the featureextracting convolution layers, before this input was fed into Variational Autoencoders (VAEs) are an emerging and popular unsupervised learning architecture described by Kingma and Welling [36] . VAEs are a generative model, consisting of a Bayesian inference encoder network and a decoder network, that can be trained with stochastic gradient descent. The encoder network projects input data into latent space variables, whose true distribution is approximated using a Gaussian distribution. The decoder network then maps the latent space back into output data, trained and guided by two cost functions: a reconstruction loss function and the Kullback-Leibler divergence."}, {"section_title": "2) RESTRICTED BOLTZMANN MACHINES AND DEEP BELIEF NET-WORKS", "text": "Boltzmann machines were invented by Ackley et al. [37] in 1985, and were modified as Restricted Boltzmann Machines (RBMs) a year later by Smolensky [38] . RBMs are generative, stochastic, probabilistic, bidirectional graphical models consisting of visible and hidden layers [22] . These layers are connected to each other but there are no connections within the layers themselves. RBMs use the backward pass of input data to generate a reconstruction, and estimate the probability distribution of the original input. van Tulder et al. [39] modified RBMs into what they described as convolutional RBMs to classify lung tissue into normal, emphysematous, fibrosed, micronodular, or ground glass tissue. For this task, they used the CT chest scans of 128 patients with interstitial lung disease from the ILD database. Convolutional RBMs were trained with either purely discriminative, purely generative, or mixeddiscriminative and generative learning objectives to learn filters. These filters were then used to perform feature extraction and create feature activation maps, before classification using a random forest classifier. Classification accuracies of between 41% to 68% were obtained, depending on the proportion of generative learning and the input patch size. They also found that filters generated from mixed-discriminative and generative learning performed the best, concluding that discriminative learning could help unsupervised feature extractors learn filters optimized for classification tasks.\nRBMs can be efficiently trained with Contrast-Divergence algorithms [40] and stacked into Deep Belief Networks (DBNs), where the hidden layer output of a RBM becomes the input for the visible layer of a second RBM stacked on it. DBNs were described by Hinton et al. [41] in 2006 in a seminal paper, which was largely responsible for the renaissance in deep learning. The insight from Hinton et al. was that DBNs could be trained in a greedy, layerby-layer fashion [42] , with lower layers learning low level features, and progressively higher layers learning high level features, mirroring real world data hierarchy. DBNs can also be coupled to layers of supervised RBMs to produce a semisupervised deep learning architecture. An application of RBMs was reported by Khatami et al. [43] , who used DBNs to classify x-ray images into 5 classes of anatomic areas and orientations."}, {"section_title": "3) GENERATIVE ADVERSARIAL NETWORKS", "text": "Generative Adversarial Networks (GANs) [44] represent a type of unsupervised learning which holds promise for medical image analysis tasks. As its name suggests, a GAN is a generative model, and is similar to a VAE in that respect. VOLUME 6, 2018 GANs comprise of two simultaneously-trained, competing models, which may be multilayer perceptrons such as CNNs. The models may be described as two players competing in a zero-sum game. One CNN is a generator that generates artificial training images. The other CNN is called a discriminator, which classifies if images are real training images or artificial ones from the generator. The desired end-point of this adversarial arrangement is one where the discriminator is unable to tell the difference between a real and a generated image i.e., the probability of assigning an image to either data distribution is 1/2. An advantage is that both generator and discriminator can be trained with backpropagation and dropout, without unwieldly inference and Markov chains. GANs are relatively new but some applications in brain MRI segmentation and synthetic medical data generation are discussed in Section 4.1 below."}, {"section_title": "III. APPLICATIONS IN MEDICAL IMAGE ANALYSIS", "text": "To the researcher, CNNs have been put to task for classification, localization, detection, segmentation and registration in image analysis. Machine learning research draws a distinction between localization (draw a bounding box around a single object in the image), and detection (draw bounding boxes around multiple objects, which may be from different classes). Segmentation draws outlines around the edges of target objects, and labels them (semantic segmentation). Registration refers to fitting one image (which may be 2 or 3 dimensional) onto another. This separation of tasks is based on different machine learning techniques and is maintained below.\nTo the clinician this separation of tasks is not that crucial, and it is the authors' opinion that a pragmatic machine learning system will incorporate some or all of the tasks into a unified system. It would be ideal to, in a single workflow, detect a lung tumor on a CT chest scan, and then localize and segment it away from normal tissue, and to prognosticate various treatment options, such as chemotherapy or surgery. Indeed, some of these tasks blur into one another in the papers discussed here. From the clinician's perspective, classification ascertains if a disease state is present or not, i.e., is blood present on this MRI brain scan signifying a hemorrhagic stroke? Localization implies the identification of normal anatomy, for example, where is the kidney in this ultrasound image? This is in contrast to detection, which implies an abnormal, pathological state, for example, where are all the lung tumors in this CT scan of the lung? Segmenting the outline of a lung tumor helps the clinician determine its distance from major anatomical structures, and helps to answer a question such as, should this patient be operated on, and if so, what should be the extent of resection?"}, {"section_title": "A. CLASSIFICATION", "text": "Classification is sometimes also known as Computer-Aided Diagnosis (CADx). Lo et al. described a CNN to detect lung nodules on chest X-rays as far back as 1995 [45] . They used 55 chest x-rays and a CNN with 2 hidden layers to output whether or not a region had a lung nodule. The relative availability of chest x-ray images has likely accelerated deep learning progress in this modality. Rajkomar et al. [46] augmented 1850 chest x-ray images into 150,000 training samples. Using a modified pre-trained GoogLeNet CNN [47] , they classified the orientation of the images into frontal or lateral views with near 100% accuracy. Although this task of identifying the orientation of the chest x-ray is of limited clinical use, it does demonstrate the effectiveness of pre-training, and data augmentation in learning the relevant image metadata, as part of an eventually fully-automated diagnostic work-flow. Pneumonia or chest infection is a common health-problem world-wide that is eminently treatable. Rajpurkar et al. [48] employed a modified DenseNet [49] with 121 convolutional layers called CheXNet to classify 14 different diseases seen on the chest x-rays, using 112,000 images from the ChestXray14 [17] dataset. CheXNet achieved state of the art performance in classifying the 14 diseases; pneumonia classification in particular achieved an Area Under Curve (AUC) score of 0.7632 with Receiver Operating Characteristics (ROC) analysis. Moreover, on a test set of 420 images, CheXNet matched or bettered the performance of 4 individual radiologists, and also the performance of a panel comprising of 3 radiologists. Shen et al. [50] used CNNs combined with Support Vector Machine (SVM) and Random Forest (RF) classifiers to classify lung nodules into benign or malignant, based on 1010 labelled CT lung scans from the Lung Image Database Consortium (LIDC-IDRI) dataset. They used 3 parallel CNNs with 2 convolution layers each, with each CNN taking image patches at different scales to extract features. The learned features were used to construct an output feature vector, which was then classified using either a SVM with radial basis function (RBF) filter or RF classifier into benign or malignant. Their method classified nodules with 86% accuracy and they also found that it was robust against different levels of noise inputs. Li et al. [51] used 3-dimensional CNNs to interpolate missing imaging data between MRI and PET images. 830 patients with MRI and PET scans from the Alzheimer Disease Neuroimaging Initiative (ADNI) database were studied. 3-D CNNs were trained with MRI and PET images as input and output respectively, and used to reconstruct PET images from patients who did not have them. Their reconstructed PET images almost matched ground truth results of disease classification, but one caveat is that issues of overfitting were not addressed, limiting the potential generalizability of their technique. Hosseini-Asl et al. [52] achieved state of the art results in diagnosing patients with Alzheimer's Disease versus normal, with an accuracy of 99%. They employed 3-D CNNs in an autoencoder architecture, pretrained on the CADDementia dataset to learn generic brain structural features. The learned feature outputs were then connected to higher layers where deep supervision techniques fine-tuned the algorithm's ability to discriminate between scans of patients with normal brains, mild cognitive impairment, or Alzheimer's Disease from the ADNI database.\nKorolev et al. [53] evaluated the performance of their VOXCNN and ResNet, which was based on the VGGNet [54] and Residual neural network architectures [55] respectively. They also used the ADNI database to discriminate between normal and Alzheimer Disease patients. Although their accuracy of 79% for Voxnet and 80% for ResNet was lower than what Hosseini-Asl achieved, Korolev states that their algorithms did not need hand-crafting of features and were simpler to implement.\nDiabetic retinopathy (DR) can also be diagnosed using CNNs. Using digital photographs of the fundus of the eye, Pratt et al. [56] trained a CNN with 10 convolutional layers and 3 fully connected layers on approximately 90,000 fundus images. They classified DR into 5 clinically used classifications of DR severity, with 75% accuracy. Abramoff et al. [57] evaluated a commercial device, the IDx-DR version X2.1 (IDx LLC, Iowa City, Iowa, USA) to detect DR. The author does not disclose the CNN architectures but states they are inspired by Alexnet and VGGNet. The device, trained on up to 1.2 million DR images, obtained an AUC score of 0.98.\nUnsupervised learning methods are also an active area of research. Plis et al. [58] used Deep Belief Networks to extract features from functional fMRI (fMRI) images, and MRI scans of patients with Huntington Disease and Schizophrenia. Suk et al. [59] classified fMRI images into diagnoses of Healthy or Mild Cognitive Impairment, using a stacked architecture of RBMs to learn hierarchal functional relationships between different brain regions. Looking outside the usual CNN models, Kumar et al. [60] compared the performance of the well-known CNNs Alexnet and VGGNet to other techniques, namely Bag of Visual Words (BOVV) and Local Binary Patterns (LBP). Interestingly, the BOVV technique performed the best at classifying histopathological images into 20 different tissue types."}, {"section_title": "B. LOCALIZATION", "text": "Localization of normal anatomy is less likely to interest the practicing clinician although applications may arise in anatomy education. Alternatively, localization may find use in fully automated end-to-end applications, whereby the radiological image is autonomously analyzed and reported without any human intervention. Yan et al. [61] looked at transverse CT image slices and constructed a two stage CNN where the first stage identified local patches, and the second stage discriminated the local patches by various body organs, achieving better results than a standard CNN. Roth et al. [62] trained a CNN with 5 convolution layers to discriminate approximately 4000 transverse axial CT images into one of 5 categories: neck, lung, liver, pelvis, legs. He was able to achieve a 5.9% classification error rate and an AUC score of 0.998, after data augmentation techniques. Shin et al. [63] used stacked autoencoders on 78 contrast-enhanced MRI scans of the abdominal region containing liver or kidney metastatic tumors, to detect the locations of the liver, heart, kidney and spleen. Hierarchal features were learned over the spatial and temporal domains, giving detection accuracies of between 62% and 79%, depending on the organ."}, {"section_title": "C. DETECTION", "text": "Detection, sometimes known as Computer-Aided Detection (CADe) is a keen area of study as missing a lesion on a scan can have drastic consequences for both the patient and the clinician. The task for the Kaggle Data Science Bowl of 2017 [64] involved the detection of cancerous lung nodules on CT lung scans. Approximately 2000 CT scans were released for the competition and the winner Fangzhou [65] achieved a logarithmic loss score of 0.399. Their solution used a 3-D CNN inspired by U-Net architecture [19] to isolate local patches first for nodule detection. Then this output was fed into a second stage consisting of 2 fully connected layers for classification of cancer probability. Shin et al. [24] evaluated five well-known CNN architectures in detecting thoracoabdominal lymph nodes and Interstitial lung disease on CT scans. Detecting lymph nodes is important as they can be a marker of infection or cancer. They achieved a mediastinal lymph node detection AUC score of 0.95 with a sensitivity of 85% using GoogLeNet, which was state of the art. They also documented the benefits of transfer learning, and the use of deep learning architectures of up to 22 layers, as opposed to fewer layers which was the norm in medical image analysis. Overfeat was a CNN pre-trained on natural images that won the ILSVRC 2013 localization task [66] . Ciompi et al. [67] applied Overfeat to 2-dimensional slices of CT lung scans oriented in the coronal, axial and sagittal planes, to predict the presence of nodules within and around lung fissures. They combined this approach with simple SVM and RF binary classifiers, as well as a Bag of Frequencies [68] , a novel 3-dimensional descriptor of their own invention.\nOther than lung lesions, there are also a myriad of other applications, including detecting malignant skin cells. Esteva et al. [69] used 130,000 dermatological photographs and dermoscopic images to train a GoogLeNet Inception V3 CNN, with no hand-crafting of features. The CNN outperformed human dermatologists in classifying the images as benign, malignant or non-neoplastic lesions, reaching an accuracy of 72% compared to the 65% and 66% accuracies obtained by 2 human dermatologists. The CNN again bettered 21 human dermatologists at deciding treatment plans for two types of skins cancers: carcinoma and melanoma. This task involved 376 biopsy-proven images, and the CNN achieved AUC scores of between 0.91 to 0.96.\nHistopathological images are increasingly digitized and this has led to numerous papers in this field. Currently these images are laboriously read by human pathologists who look for markers of malignancy such as: increased nucleus to cytoplasm ratios, increased numbers of mitotic figures indicating increased cell replication, atypical cellular architecture, signs of cellular necrosis, high cell proliferation index from molecular markers like Ki-67. A histopathological slide can contain hundreds to thousands of cells, and wading through them at high magnification carries the risk of missing VOLUME 6, 2018 aberrant neoplastic areas. Ciresan et al. [70] used 11-13 layer CNNs to identify mitotic figures in 50 breast histology images from the MITOS dataset. Their approach achieved precision and recall scores of 0.88 and 0.70 respectively. More recently, Yang et al [71] . achieved accuracies of 97-98% in classifying kidney cancer histopathological images into tumor or non-tumor, using CNNs that were 5-7 layers deep. Sirinukunwattana et al. [72] also used CNNs, but to detect cell nuclei in 100 colorectal adenocarcinoma histology images. For training, almost 30,000 nuclei had to be hand-labelled. The novelty in their approach was the use of their Spatially-Constrained CNN, which used spatial regression and the surrounding spatial context to identify the centers of nuclei. Nuclei in breast cancer histological slides were also identified by Xu et al. [73] , although he used a Stacked Sparse Autoencoder (SSAE) instead. Their model obtained precision and recall scores of 0.89 and 0.83 respectively, showing that unsupervised learning methods can also be successfully employed in this field. Albarquoni et al. [74] , deal with the issue of insufficient labelling of medical images, by ''crowd-sourcing'' the ground-truth labelling of mitoses in breast cancer histology images to non-experts on the internet. The crowd-sourced input labels were fed into a CNN, and this represents an interesting proof-of-concept work that may solve the perennial problem of insufficient labelling in medical image analysis."}, {"section_title": "D. SEGMENTATION", "text": "CT and MRI mage segmentation research covers a variety of organs such as liver, prostate and knee cartilage, but a large amount of work has focused on brain segmentation, including tumor segmentation. The latter is especially important in surgical planning to determine the exact boundaries of the tumor in order to direct surgical resection. Sacrificing too much of eloquent brain areas during surgery would cause neurological deficits such as limb weakness, numbness and cognitive impairment. Traditionally, medical anatomical segmentation was done by hand, with a clinician drawing outlines slice by slice through an entire MRI or CT volume stack, therefore it is ideal to implement a solution that automates this laborious task. An excellent review of brain MRI segmentation was written by Akkus et al. [75] , who reviewed various CNN architectures and metrics used in segmentation. Additionally, he also detailed the numerous competitions and their datasets, such as Brain Tumor Segmentation (BRATS), Mild traumatic brain injury outcome prediction (MTOP) and Ischemic Stroke Lesion Segmentation (ISLES).\nMoeskops et al. [76] used 3 CNNs, each with a different 2-dimensional input patch size, running in parallel to classify and segment MRI brain images of 22 pre-term infants and 35 adults into different tissue classes such as white matter, grey matter and cerebrospinal fluid. The advantage of using 3 different input patch sizes is that each focuses on capturing different aspects of the image, with the smallest patch focused on local textures while the larger patch sizes assimilated spatial features. Overall, the algorithm achieved good accuracy, with Dice coefficients between 0.82 and 0.87. Most segmentation research has been on 2-dimensional image slices, but Milleterai et al. [20] applied 3-dimensional CNN to segment MRI prostate images from the PROMISE2012 challenge dataset. Their proposed V-net was inspired by Ronnerberger's U-Net architecture [19] , and was trained on 50 MRI prostate scans and tested on 30 similar scans. V-net achieved a dice similarity coefficient score of 0.869, which was similar to that of the top placed teams in the challenge. Pereira et al. [77] applied deliberately small filters of 3 x 3 size, to allow the design of a deeper 11 convolution layer CNN, and to reduce overfitting. Their CNN was trained on 274 MRI brain tumor scans of gliomas, a type of brain tumor with significant malignant potential, obtaining first place in the BRATS 2013 and second place in the BRATS 2015 challenge. Havaei et al. [78] also looked at gliomas, and explored various 2-dimensional CNN architectures on the BRATS 2013 dataset. Their algorithm performed better than the BRATS 2013 winner, and took 3 minutes to run, compared to 100 minutes. Their InputCascadeCNN had a cascaded architecture, with the output of a first CNN being fed into a second CNN. Chen et al. [79] proposed using up-sampled filters, atrous spatial pyramid pooling, and fully connected Conditional Random Fields (CRFs). These aid in enlarging the field of each filter's view at multiple scales and improve localization accuracy. With this architecture which they called DeepLab, Chen et al. achieved state-of-the-art performance in the PASCAL VOC-2012 Image segmentation task, reaching 79.7% mean Intersection over Union (mIOU). There is some overlap with Moeskops' [76] use of input patches at different scales, and it would be interesting to see how this work in image segmentation can be advanced further. A more recent study by Casamitjana et al. [80] , compared various 3-dimensional CNN architectures. Training on the BRATS 2015 brain tumor dataset, they found that their 3D-CNN, modified from the DeepMedic CNN by Kamnitsas et al. [21] , performed the best, and advocated using smaller receptive fields with multi-scale architecture. Brosch et al. [81] also exploited the analysis of multi-scale architecture, in segmenting MRI brain lesions of multiple sclerosis. They employed a novel approach but using both an encoder convolutional pathway consisting of pre-trained RBMs, and a deconvolutional pathway similar to a U-Net architecture."}, {"section_title": "E. REGISTRATION", "text": "Although the registration of medical images has many potential applications, which were reviewed by El-Gamal et al. [82] , their actual clinical use is encountered in niche areas. Image registration is employed in neurosurgery or spinal surgery, to localize a tumor or spinal bony landmark, in order to facilitate surgical tumor removal or spinal screw implant placement. A reference image is aligned to a second image, called a sense image and various similarity measures and reference points are calculated to align the images, which can be 2 or 3-dimensional. The reference image may be a pre-operative MRI brain scan and the sense image may be an intraoperative MRI brain scan done after a first-pass resection, to determine if there is remnant tumor and if further resection is required. Using MRI brain scans from the OASIS dataset, Yang et al. [83] stacked convolution layers in an encoder-decoder fashion, to predict how an input pixel would morph into its final configuration. They invoked the use of a Large deformation diffeomorphic metric mapping (LDDMM) registration model and achieved dramatic improvements in computational time. Miao et al. [84] trained a 5 layer CNN on synthetic X-ray images in order to register 3-dimensional models of a knee implant, a hand implant, and a trans-esophageal probe onto 2-dimensional X-ray images, in order to estimate their pose. Their method obtained successful registrations 79-99% of the time, and took 0.1 seconds, a significant improvement over traditional intensity-based registration methods."}, {"section_title": "IV. CONCLUSION A. CHALLENGES", "text": "A recurring theme in machine learning is the limit imposed by the lack of labelled datasets, which hampers training and task performance. Conversely, it is acknowledged that more data improves performance, as Sun et al. [85] shows using an internal Google dataset of 300 million images. In general computer vision tasks, attempts have been made to circumvent limited data by using smaller filters on deeper layers [47] , with novel CNN architecture combinations [86] , or hyperparameter optimization [87] .\nIn medical image analysis, the lack of data is two-fold and more acute: there is general lack of publicly available data, and high quality labelled data is even more scarce. Most of the datasets presented in this review involve fewer than 100 patients. Yet the situation may not be as dire as it seems, as despite the small training datasets, the papers in this review report relatively satisfactory performance in the various tasks. The question of how many images are necessary for training in medical image analysis was partially answered by Cho et al. [88] . He ascertained the accuracy of a CNN with GoogLeNet architecture in classifying individual axial CT images into one of 6 body regions: brain, neck, shoulder, chest, abdomen, pelvis. With 200 training images, accuracies of 88-98% were achieved on a test set of 6000 images. While categorization into various body regions is not a realistic medical image analysis task, his report does suggest that the problem may be surmountable. Being able to accomplish classification with a small dataset is possibly due to the general intrinsic image homogeneity across different patients, as opposed to the near-infinite variety of natural images, such as a dog in various breeds, colors and poses.\nVAEs and GANS, being generative models, may sidestep the data paucity problem, by creating synthetic medical data. This was done by Guibas and Virdi, who used a 2 stage GAN to segment and then generate retinal fundus images successfully [89] . Their work was built on the research of Costa et al. [90] , which first described using GANs to generate retinal fundus images. Aside from synthetic data generation, GANs have been used in brain MRI segmentation as well by Moeskops et al. [91] , Kamnitsas et al. [92] and Alex et al. [93] .\nData or class imbalance in the training set is also a significant issue in medical image analysis [94] . This refers to the number of images in the training data being skewed towards normal and non-pathological images. Rare diseases are an extreme example of this and can be missed without adequate training examples. This data imbalance effect can be ameliorated by using data augmentation to generate more training images of rare or abnormal data, though there is risk of overfitting. Aside from data-level strategies, algorithmic modification strategies and cost sensitive learning have also been studied [95] , [96] .\nAn important, non-technical challenge is the public reception towards their health results being studied by a nonhuman actor. This situation is not helped by the apocalyptic artificial intelligence scenarios painted by some. Machine learning algorithms have surpassed human performance in image recognition tasks, and it is likely that they will perform better than humans in medical image analysis as well. Indeed, some of the papers in this review report that dermatologists and radiologists have already been bested by machine learning. Yet the question regarding legal and moral culpability arises when a patient is misdiagnosed, or suffers morbidity as a result of AI or AI-assisted medical management. This is accentuated by our inability to fully explain how the blackbox of machine algorithms work. However, it is likely that our relationship will continue evolve and recalibrate as AI-based technologies mature and inexorably permeate different facets of our lives."}, {"section_title": "B. FUTURE APPLICATIONS", "text": "The traditional applications for medical image analysis were discussed in Section 3. New areas of research include prognostication [97] , content-based image retrieval [98] , [99] , image report or caption generation [100] , [101] , and manipulation of physical objects with LSTMs and reinforcement learning [102] , [103] involving surgical robots [104] , [105] . A few innovative applications that span across traditional medical image analysis categories are described below.\nAn interesting application was reported by Nie et al. [106] , [107] , in which GANs were used to generate CT brain images from MRI images. This is remarkable, as it means that patients can potentially avoid the ionizing radiation from a CT scanner altogether, lowering cost and improving patient safety. Nie also exploited the ability of GANs to generate improved, higher resolution images from native images [108] and reduced the blurriness in the CT images. A useful extension of resolution improvement techniques would be applying them to generate MRI images of higher quality. High quality MRI images require high tesla (and correspondingly costlier) MRI scanners. Algorithmicallygenerated high quality MRI images on a lower field-strength scanner would thus lower healthcare costs. VOLUME 6, 2018 Chang [109] demonstrated a novel application in the nascent area of radio-genomics, which uses radiological images to predict the underlying molecular origin of a tissue. He first used an autoencoder to learn latent features from MRI images of glioblastoma multiforme (GBM), a malignant brain tumor, from The Cancer Genome Atlas Glioblastoma Multiforme (TCGA-GBM) data collection [110] . The learned features were then fed into a fully connected classifier layer to classify a MRI scan into one of 4 known molecular sub-types of GBM. Although still early, Chang's work could potentially diagnose a GBM sub-type and obviate the need for surgical biopsy and molecular assays. The generalizability of this technique to tumors elsewhere in the body is also promising.\nCoudray et al. [111] accomplished an analogous task, but used histopathological images to classify lung cancer subtypes, and to predict common genetic mutations. Knowing the genetic mutations is helpful in prognosticating length of survival and guiding the choice of chemotherapy. Their method outperforms a human pathologist, and the prediction of genetic mutations had AUC scores of between 0.73 to 0.86.\nTsochatzidis et al. [112] described an original work combining content-based image retrieval (CBIR) and computeraided diagnosis (CADx). In essence, their model segmented a lesion on a query image, and compared this to the segmented lesions in their database, consisting of 400 Regions of interest derived from the Digital Database for Screening Mammography (DDSM). The basis of comparison were the Euclidean distances between the representation vectors of the query lesion and database lesions. The model then outputs both reference images and a likelihood of a lesion being benign or malignant. They reported that their combined CBIR and CADx method resulted in state of the art prediction accuracy of 81%. These examples highlight how the field of machine learning in medical image analysis is changing rapidly, and that there may still be numerous applications which have not been conceived of yet."}]